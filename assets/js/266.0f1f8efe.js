(window.webpackJsonp=window.webpackJsonp||[]).push([[266],{815:function(t,s,a){"use strict";a.r(s);var c=a(12),l=function(t){t.options.__data__block__={markmap_1a96284d:"- [é¢å‘è¿æ¥ä¼ è¾“åè®®TCP](#é¢å‘è¿æ¥ä¼ è¾“åè®®tcp)\n  - [TCP è¿æ¥æ¦‚è¿°](#tcp-è¿æ¥æ¦‚è¿°)\n  - [TCP æŠ¥æ–‡æ®µç»“æ„](#tcp-æŠ¥æ–‡æ®µç»“æ„)\n  - [å¾€è¿”æ—¶é—´çš„ä¼°è®¡å’Œè¶…æ—¶](#å¾€è¿”æ—¶é—´çš„ä¼°è®¡å’Œè¶…æ—¶)\n  - [TCP å¯é æ•°æ®ä¼ è¾“](#tcp-å¯é æ•°æ®ä¼ è¾“)\n    - [TCP å‘é€æ–¹äº‹ä»¶](#tcp-å‘é€æ–¹äº‹ä»¶)\n    - [TCP ACK ç”Ÿæˆ[RFC 568]](#tcp-ack-ç”Ÿæˆrfc-568)\n    - [å¿«é€Ÿé‡ä¼ æœºåˆ¶](#å¿«é€Ÿé‡ä¼ æœºåˆ¶)\n  - [TCP æµé‡æ§åˆ¶](#tcp-æµé‡æ§åˆ¶)\n  - [TCP è¿æ¥ç®¡ç†](#tcp-è¿æ¥ç®¡ç†)"}},v=Object(c.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"é¢å‘è¿æ¥ä¼ è¾“åè®®tcp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¢å‘è¿æ¥ä¼ è¾“åè®®tcp"}},[t._v("#")]),t._v(" é¢å‘è¿æ¥ä¼ è¾“åè®®TCP")]),t._v(" "),a("Markmap",{attrs:{id:"markmap_1a96284d",code:t.$dataBlock.markmap_1a96284d}}),a("h2",{attrs:{id:"tcp-è¿æ¥æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-è¿æ¥æ¦‚è¿°"}},[t._v("#")]),t._v(" TCP è¿æ¥æ¦‚è¿°")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("TCP æ¦‚è¿°")])]),t._v(" "),a("h2",{attrs:{id:"tcp-æŠ¥æ–‡æ®µç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-æŠ¥æ–‡æ®µç»“æ„"}},[t._v("#")]),t._v(" TCP æŠ¥æ–‡æ®µç»“æ„")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210902150451-2021-09-02-15-04-51.png",alt:"20210902150451-2021-09-02-15-04-51"}})]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("TCP: åºåˆ—å·å’Œ ACK")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("åºåˆ—å·")]),t._v(" "),a("ul",[a("li",[t._v("åºåˆ—å·æŒ‡çš„æ˜¯segmentä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚çš„ç¼–å·ï¼Œè€Œä¸æ˜¯segmentçš„ç¼–å·")]),t._v(" "),a("li",[t._v("å»ºç«‹TCPè¿æ¥æ—¶ï¼ŒåŒæ–¹éšæœºé€‰æ‹©åˆå§‹çš„åºåˆ—å·")])])]),t._v(" "),a("li",[a("p",[t._v("ACKs")]),t._v(" "),a("ul",[a("li",[t._v("å¸Œæœ›æ¥æ”¶åˆ°çš„ä¸‹ä¸€ä¸ªå­—èŠ‚çš„åºåˆ—å·")]),t._v(" "),a("li",[t._v("ç´¯è®¡ç¡®è®¤ï¼šè¯¥åºåˆ—å·ä¹‹å‰çš„æ‰€æœ‰å­—èŠ‚å‡å·²è¢«æ­£ç¡®æ¥æ”¶åˆ°")])])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("æ¥æ”¶æ–¹å¦‚ä½•å¤„ç†ä¹±åºåˆ°è¾¾çš„Segmentï¼Ÿ")]),t._v(" "),a("ul",[a("li",[t._v("TCPè§„èŒƒä¸­æ²¡æœ‰è§„å®šï¼Œç”±TCPçš„å®ç°è€…åšå‡ºå†³ç­–")]),t._v(" "),a("li",[t._v("ä¸€èˆ¬ä¼šå¯¹ä¹±å­˜åˆ°è¾¾çš„ Segment è¿›è¡Œç¼“å­˜")])])])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ç®€å• telnet ç¤ºä¾‹")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210902151149-2021-09-02-15-11-49.png",alt:"20210902151149-2021-09-02-15-11-49"}})])]),t._v(" "),a("h2",{attrs:{id:"å¾€è¿”æ—¶é—´çš„ä¼°è®¡å’Œè¶…æ—¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾€è¿”æ—¶é—´çš„ä¼°è®¡å’Œè¶…æ—¶"}},[t._v("#")]),t._v(" å¾€è¿”æ—¶é—´çš„ä¼°è®¡å’Œè¶…æ—¶")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("å¦‚ä½•è®¾ç½®å®šæ—¶å™¨çš„è¶…æ—¶æ—¶é—´ï¼Ÿ")])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("å¦‚ä½•ä¼°è®¡RTTï¼Ÿ")])]),t._v(" "),a("h2",{attrs:{id:"tcp-å¯é æ•°æ®ä¼ è¾“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-å¯é æ•°æ®ä¼ è¾“"}},[t._v("#")]),t._v(" TCP å¯é æ•°æ®ä¼ è¾“")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("TCPåœ¨IPå±‚æä¾›çš„ä¸å¯é æœåŠ¡åŸºç¡€ä¸Šå®ç°å¯é æ•°æ®ä¼ è¾“æœåŠ¡")])]),t._v(" "),a("li",[a("p",[t._v("æµæ°´çº¿æœºåˆ¶")])]),t._v(" "),a("li",[a("p",[t._v("ç´¯ç§¯ç¡®è®¤")])]),t._v(" "),a("li",[a("p",[t._v("TCPä½¿ç”¨å•ä¸€é‡ä¼ å®šæ—¶å™¨")])]),t._v(" "),a("li",[a("p",[t._v("è§¦å‘é‡ä¼ çš„äº‹ä»¶")]),t._v(" "),a("ul",[a("li",[t._v("è¶…æ—¶")]),t._v(" "),a("li",[t._v("æ”¶åˆ°é‡å¤ACK")])])]),t._v(" "),a("li",[a("p",[t._v("æ¸è¿›å¼")]),t._v(" "),a("ul",[a("li",[t._v("æš‚ä¸è€ƒè™‘é‡å¤ACK")]),t._v(" "),a("li",[t._v("æš‚ä¸è€ƒè™‘æµé‡æ§åˆ¶")]),t._v(" "),a("li",[t._v("æš‚ä¸è€ƒè™‘æ‹¥å¡æ§åˆ¶")])])])]),t._v(" "),a("h3",{attrs:{id:"tcp-å‘é€æ–¹äº‹ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-å‘é€æ–¹äº‹ä»¶"}},[t._v("#")]),t._v(" TCP å‘é€æ–¹äº‹ä»¶")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("ä»åº”ç”¨å±‚æ”¶åˆ°æ•°æ®")])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("è¶…æ—¶")])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("æ”¶åˆ° ACK")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TCP é‡ä¼ ç¤ºä¾‹")]),t._v(" "),a("ul",[a("li",[t._v("Lost ACK scenario"),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ç¤ºæ„å›¾")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210906172247-2021-09-06-17-22-47.png",alt:"20210906172247-2021-09-06-17-22-47"}})])])]),t._v(" "),a("li",[t._v("Premature timeout"),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ç¤ºæ„å›¾")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210906172405-2021-09-06-17-24-05.png",alt:"20210906172405-2021-09-06-17-24-05"}})])])]),t._v(" "),a("li",[t._v("Cumulative ACK scenario"),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ç¤ºæ„å›¾")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210906172711-2021-09-06-17-27-11.png",alt:"20210906172711-2021-09-06-17-27-11"}})])])])])]),t._v(" "),a("h3",{attrs:{id:"tcp-ack-ç”Ÿæˆrfc-568"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-ack-ç”Ÿæˆrfc-568"}},[t._v("#")]),t._v(" TCP ACK ç”Ÿæˆ[RFC 568]")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210906173949-2021-09-06-17-39-49.png",alt:"20210906173949-2021-09-06-17-39-49"}})]),t._v(" "),a("h3",{attrs:{id:"å¿«é€Ÿé‡ä¼ æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¿«é€Ÿé‡ä¼ æœºåˆ¶"}},[t._v("#")]),t._v(" å¿«é€Ÿé‡ä¼ æœºåˆ¶")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("å¦‚æœsenderæ”¶åˆ°å¯¹åŒä¸€æ•°æ®çš„3ä¸ªACKï¼Œåˆ™å‡å®šè¯¥æ•°æ®ä¹‹åçš„æ®µå·²ç»ä¸¢å¤±")])]),t._v(" "),a("li",[a("p",[t._v("ä¸ºä»€ä¹ˆæ˜¯ 3 æ¬¡?")])]),t._v(" "),a("li",[a("p",[t._v("å¿«é€Ÿé‡ä¼ ç®—æ³•")]),t._v(" "),a("ul",[a("li",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210906174509-2021-09-06-17-45-09.png",alt:"20210906174509-2021-09-06-17-45-09"}})])])])]),t._v(" "),a("h2",{attrs:{id:"tcp-æµé‡æ§åˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-æµé‡æ§åˆ¶"}},[t._v("#")]),t._v(" TCP æµé‡æ§åˆ¶")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("æµé‡æ§åˆ¶")]),t._v(" "),a("ul",[a("li",[t._v("å‘é€æ–¹ä¸èƒ½ä¼ è¾“çš„å¤ªå¤šã€å¤ªå¿«ä»¥è‡³äºæ·¹æ²¡æ¥æ”¶æ–¹ï¼ˆbufferæº¢å‡ºï¼‰")])])]),t._v(" "),a("li",[a("p",[t._v("RcvWindow = 0 çš„åº”å¯¹æƒ…å†µï¼Œå‚è§æ•™æ P165")])])]),t._v(" "),a("h2",{attrs:{id:"tcp-è¿æ¥ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-è¿æ¥ç®¡ç†"}},[t._v("#")]),t._v(" TCP è¿æ¥ç®¡ç†")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("TCP sender å’Œ receiver åœ¨ä¼ è¾“æ•°æ®å‰éœ€è¦å»ºç«‹è¿æ¥")])]),t._v(" "),a("li",[a("p",[t._v("Clientï¼šè¿æ¥å‘èµ·è€…")])]),t._v(" "),a("li",[a("p",[t._v("Server: ç­‰å¾…å®¢æˆ·è¿æ¥è¯·æ±‚")])]),t._v(" "),a("li",[a("p",[t._v("è¿æ¥")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("SYN=1")])]),t._v(" "),a("li",[t._v("ğŸŒŸ ä¸‰æ¬¡æ¡æ‰‹")])])]),t._v(" "),a("li",[a("p",[t._v("å…³é—­")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("FIN")])]),t._v(" "),a("li",[t._v("ä¸¤æ¬¡æŒ¥æ‰‹")])])]),t._v(" "),a("li",[a("p",[t._v("TCP client lifecycle")]),t._v(" "),a("ul",[a("li",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210906180432-2021-09-06-18-04-32.png",alt:"20210906180432-2021-09-06-18-04-32"}})])])]),t._v(" "),a("li",[a("p",[t._v("TCP server lifecycle")]),t._v(" "),a("ul",[a("li",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210906180533-2021-09-06-18-05-33.png",alt:"20210906180533-2021-09-06-18-05-33"}})])])])])],1)}),[],!1,null,null,null);"function"==typeof l&&l(v);s.default=v.exports}}]);