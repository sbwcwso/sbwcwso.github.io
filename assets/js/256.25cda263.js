(window.webpackJsonp=window.webpackJsonp||[]).push([[256],{805:function(t,s,l){"use strict";l.r(s);var i=l(12),a=function(t){t.options.__data__block__={markmap_1a96284d:"- [Web 应用](#web-应用)\n  - [HTTP](#http)\n    - [Web 与 HTTP](#web-与-http)\n    - [HTTP 协议概述](#http-协议概述)\n    - [HTTP 连接](#http-连接)\n      - [响应时间分析与建模](#响应时间分析与建模)\n      - [非持久性连接(Nonpersistent HTTP)](#非持久性连接nonpersistent-http)\n      - [持久性连接(Persistent HTTP)](#持久性连接persistent-http)\n    - [HTTP 消息格式](#http-消息格式)\n      - [请求消息](#请求消息)\n      - [响应消息](#响应消息)\n    - [Cookie 技术](#cookie-技术)\n    - [Web 缓存/代理服务器技术](#web-缓存代理服务器技术)\n      - [条件性 GET 方法](#条件性-get-方法)"}},v=Object(i.a)({},(function(){var t=this,s=t.$createElement,l=t._self._c||s;return l("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[l("h1",{attrs:{id:"web-应用"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#web-应用"}},[t._v("#")]),t._v(" Web 应用")]),t._v(" "),l("Markmap",{attrs:{id:"markmap_1a96284d",code:t.$dataBlock.markmap_1a96284d}}),l("h2",{attrs:{id:"http"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" HTTP")]),t._v(" "),l("h3",{attrs:{id:"web-与-http"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#web-与-http"}},[t._v("#")]),t._v(" Web 与 HTTP")]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("World Wide Web")]),t._v(" "),l("blockquote",[l("p",[l("a",{attrs:{href:"https://en.wikipedia.org/wiki/Tim_Berners-Lee",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tim Berners-Lee"),l("OutboundLink")],1)])]),t._v(" "),l("ul",[l("li",[t._v("网页")]),t._v(" "),l("li",[t._v("网页互相链接")])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("网页(Web Page)包含多个对象(objects)")]),t._v(" "),l("ul",[l("li",[t._v("对象：HTML文件、JPEG图片、视频文件、动态脚本等")]),t._v(" "),l("li",[t._v("基本HTML文件：包含对其他对象引用的链接")])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("对象的寻址(addressing)")]),t._v(" "),l("ul",[l("li",[t._v("URL(Uniform Resource Locator)：统一资源定位器 RFC1738")]),t._v(" "),l("li",[t._v("Scheme://host:port/path")])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("示例")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210809040728-2021-08-09-04-07-28.png",alt:"20210809040728-2021-08-09-04-07-28"}})])])]),t._v(" "),l("h3",{attrs:{id:"http-协议概述"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#http-协议概述"}},[t._v("#")]),t._v(" HTTP 协议概述")]),t._v(" "),l("ul",[l("li",[t._v("超文本传输协议\n"),l("ul",[l("li",[t._v("HyperText Transfer Protocol")])])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("C/S结构")]),t._v(" "),l("ul",[l("li",[t._v("客户—Browser：请求、接收、展示Web对象")]),t._v(" "),l("li",[t._v("服务器—Web Server：响应客户的请求，发送对象")])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("示意图")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210809041200-2021-08-09-04-12-00.png",alt:"20210809041200-2021-08-09-04-12-00"}})])])]),t._v(" "),l("ul",[l("li",[t._v("HTTP 版本")])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("使用 TCP 传输服务")])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("无状态(stateless)")]),t._v(" "),l("ul",[l("li",[t._v("服务器不维护任何有关客户端过去所发请求的信息")])]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("有状态的协议更复杂")]),t._v(" "),l("ul",[l("li",[t._v("需维护状态(历史信息)")]),t._v(" "),l("li",[t._v("如果客户或服务器失效，会产生状态的不一致，解决这种不一致代价高")])])])]),t._v(" "),l("h3",{attrs:{id:"http-连接"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#http-连接"}},[t._v("#")]),t._v(" HTTP 连接")]),t._v(" "),l("h4",{attrs:{id:"响应时间分析与建模"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#响应时间分析与建模"}},[t._v("#")]),t._v(" 响应时间分析与建模")]),t._v(" "),l("div",{staticClass:"custom-block theorem"},[l("p",{staticClass:"title"},[t._v("RTT(Round Trip Time)")]),l("ul",[l("li",[t._v("从客户端发送一个很小的数据包到服务器并返回所经历的时间")])])]),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("响应时间(Response time)")]),t._v(" "),l("ul",[l("li",[t._v("发起、建立TCP连接：1个RTT")]),t._v(" "),l("li",[t._v("发送HTTP请求消息到HTTP响应消息的前几个字节到达：1个RTT")]),t._v(" "),l("li",[t._v("响应消息中所含的文件/对象传输时间")])]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("Total=2RTT +文件发送时间")])])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("响应时间图示")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210809042800-2021-08-09-04-28-00.png",alt:"20210809042800-2021-08-09-04-28-00"}})])]),t._v(" "),l("h4",{attrs:{id:"非持久性连接nonpersistent-http"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#非持久性连接nonpersistent-http"}},[t._v("#")]),t._v(" 非持久性连接(Nonpersistent HTTP)")]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("特点")]),t._v(" "),l("ul",[l("li",[t._v("每个TCP连接最多允许传输一个对象")]),t._v(" "),l("li",[t._v("HTTP 1.0版本使用非持久性连接")])])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("工作过程示意图")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/1-2021-08-09-04-23-50.png",alt:"1-2021-08-09-04-23-50"}})])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("存在的问题")]),t._v(" "),l("ul",[l("li",[t._v("每个对象需要2个RTT")]),t._v(" "),l("li",[t._v("操作系统需要为每个TCP连接开销资源(overhead)")])]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("浏览器的优化措施")]),t._v(" "),l("ul",[l("li",[t._v("打开多个并行的TCP连接以获取网页所需对象")]),t._v(" "),l("li",[t._v("会服务器端造成严重的负担")])])])]),t._v(" "),l("h4",{attrs:{id:"持久性连接persistent-http"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#持久性连接persistent-http"}},[t._v("#")]),t._v(" 持久性连接(Persistent HTTP)")]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("特点")]),t._v(" "),l("ul",[l("li",[t._v("每个TCP连接允许传输多个对象\n"),l("ul",[l("li",[t._v("HTTP 1.1版本默认使用持久性连接")])])]),t._v(" "),l("li",[t._v("发送响应后，服务器保持TCP连接的打开\n"),l("ul",[l("li",[t._v("后续的HTTP消息可以通过这个连接发送")])])])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("无流水(pipelining)的持久性连接")]),t._v(" "),l("ul",[l("li",[t._v("客户端只有收到前一个响应后才发送新的请求")]),t._v(" "),l("li",[t._v("每个被引用的对象耗时1个RTT")])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("带有流水机制的持久性连接")]),t._v(" "),l("ul",[l("li",[t._v("HTTP 1.1的默认选项")]),t._v(" "),l("li",[t._v("客户端只要遇到一个引用对象就尽快发出请求")]),t._v(" "),l("li",[t._v("理想情况下，收到所有的引用对象只需耗时约1个RTT")])])]),t._v(" "),l("h3",{attrs:{id:"http-消息格式"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#http-消息格式"}},[t._v("#")]),t._v(" HTTP 消息格式")]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("HTTP协议有两类消息")]),t._v(" "),l("ul",[l("li",[t._v("请求消息(request)")]),t._v(" "),l("li",[t._v("响应消息(response)")])])]),t._v(" "),l("h4",{attrs:{id:"请求消息"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#请求消息"}},[t._v("#")]),t._v(" 请求消息")]),t._v(" "),l("ul",[l("li",[t._v("ASCII：人直接可读")])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("请示消息的实例")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210809045743-2021-08-09-04-57-43.png",alt:"20210809045743-2021-08-09-04-57-43"}})])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("请求消息的通用格式")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210809050107-2021-08-09-05-01-07.png",alt:"20210809050107-2021-08-09-05-01-07"}})])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("上传输入的方法")]),t._v(" "),l("ul",[l("li",[t._v("POST 方法\n"),l("ul",[l("li",[t._v("在请求消息的消息体(entity body)中上传客户端的输入")])])]),t._v(" "),l("li",[t._v("URL 方法\n"),l("ul",[l("li",[t._v("输入信息通过 request 行的 URL 字段上传")])])])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("方法的类型")])]),t._v(" "),l("h4",{attrs:{id:"响应消息"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#响应消息"}},[t._v("#")]),t._v(" 响应消息")]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("响应消息实例")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210809050639-2021-08-09-05-06-39.png",alt:"20210809050639-2021-08-09-05-06-39"}})])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("响应状态代码")]),t._v(" "),l("ul",[l("li",[t._v("位于消息的第一行")]),t._v(" "),l("li",[t._v("示例\n"),l("ul",[l("li",[t._v("200 OK")]),t._v(" "),l("li",[t._v("301 Moved Permanently")]),t._v(" "),l("li",[t._v("400 Bad Request")]),t._v(" "),l("li",[t._v("404 Not Found")]),t._v(" "),l("li",[t._v("505 HTTP Version Not Supported")])])])])]),t._v(" "),l("h3",{attrs:{id:"cookie-技术"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#cookie-技术"}},[t._v("#")]),t._v(" Cookie 技术")]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("Cookie 技术")]),t._v(" "),l("ul",[l("li",[t._v("某些网站为了辨别用户身份、进行session跟踪而储存在用户本地终端上的数据（通常经过加密）")]),t._v(" "),l("li",[l("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc6265",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC6265"),l("OutboundLink")],1)])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("Cookie 组件")]),t._v(" "),l("ul",[l("li",[t._v("HTTP 响应消息的 cookie 头部行")]),t._v(" "),l("li",[t._v("HTTP 请求消息的 cookie 头部行")]),t._v(" "),l("li",[t._v("保存在客户端主机上的 cookie 文件，由浏览器管理")]),t._v(" "),l("li",[t._v("Web 服务器端的后台数据库")])])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("Cookie 工作原理示意图")]),t._v(" "),l("ul",[l("li",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210809051849-2021-08-09-05-18-49.png",alt:"20210809051849-2021-08-09-05-18-49"}}),t._v(" "),l("ul",[l("li",[t._v("可以做出面向特定用户的特定动作")])])])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("Cookie 的作用")]),t._v(" "),l("ul",[l("li",[t._v("身份认证")]),t._v(" "),l("li",[t._v("购物车")]),t._v(" "),l("li",[t._v("推荐")]),t._v(" "),l("li",[t._v("Web e-mail")]),t._v(" "),l("li",[t._v("...")])])]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("Cookie 最大的问题是隐私问题")])]),t._v(" "),l("h3",{attrs:{id:"web-缓存代理服务器技术"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#web-缓存代理服务器技术"}},[t._v("#")]),t._v(" Web 缓存/代理服务器技术")]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("功能")]),t._v(" "),l("ul",[l("li",[t._v("在不访问服务器的前提下满足客户端的HTTP请求")])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("作用")]),t._v(" "),l("ul",[l("li",[t._v("缩短客户请求的响应时间")]),t._v(" "),l("li",[t._v("减少机构/组织的流量")]),t._v(" "),l("li",[t._v("在大范围内(Internet)实现有效的内容分发")])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("Web缓存/代理服务器")]),t._v(" "),l("ul",[l("li",[t._v("用户设定浏览器通过缓存进行Web访问")]),t._v(" "),l("li",[t._v("浏览器向缓存/代理服务器发送所有的HTTP请求\n"),l("ul",[l("li",[t._v("如果所请求对象在缓存中，缓存返回对象")]),t._v(" "),l("li",[t._v("否则，缓存服务器向原始服务器发送HTTP请求，获取对象，然后返回给客户端并保存该对象")])])]),t._v(" "),l("li",[t._v("缓存既充当客户端，也充当服务器")]),t._v(" "),l("li",[t._v("一般由ISP(Internet服务提供商)架设")])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("图示")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210809053143-2021-08-09-05-31-43.png",alt:"20210809053143-2021-08-09-05-31-43"}})])])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("Web 缓存示例")])]),t._v(" "),l("h4",{attrs:{id:"条件性-get-方法"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#条件性-get-方法"}},[t._v("#")]),t._v(" 条件性 GET 方法")]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("目标")]),t._v(" "),l("ul",[l("li",[t._v("如果缓存有最新的版本，则不需要发送请求对象")])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("缓存")]),t._v(" "),l("ul",[l("li",[t._v("在HTTP请求消息中声明所持有版本的日期\n"),l("ul",[l("li",[l("code",[t._v("If-modified-since: <date>")])])])])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("服务器")]),t._v(" "),l("ul",[l("li",[t._v("如果缓存的版本是最新的，则响应消息中不包含对象\n"),l("ul",[l("li",[l("code",[t._v("HTTP/1.0 304 Not Modified")])])])])])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("示意图")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210816091643-2021-08-16-09-16-43.png",alt:"20210816091643-2021-08-16-09-16-43"}})])])],1)}),[],!1,null,null,null);"function"==typeof a&&a(v);s.default=v.exports}}]);