(window.webpackJsonp=window.webpackJsonp||[]).push([[260],{810:function(t,s,a){"use strict";a.r(s);var e=a(12),c=function(t){t.options.__data__block__={markmap_1a96284d:"- [Socket ç¼–ç¨‹](#socket-ç¼–ç¨‹)\n  - [åº”ç”¨ç¼–ç¨‹æ¥å£(API)](#åº”ç”¨ç¼–ç¨‹æ¥å£api)\n    - [ç½‘ç»œç¨‹è®¾è®¡æ¥å£](#ç½‘ç»œç¨‹è®¾è®¡æ¥å£)\n    - [åº”ç”¨ç¼–ç¨‹æ¥å£ API](#åº”ç”¨ç¼–ç¨‹æ¥å£-api)\n    - [å‡ ç§å…¸å‹çš„åº”ç”¨ç¼–ç¨‹æ¥å£](#å‡ ç§å…¸å‹çš„åº”ç”¨ç¼–ç¨‹æ¥å£)\n  - [Socket API æ¦‚è¿°](#socket-api-æ¦‚è¿°)\n    - [Socket æŠ½è±¡](#socket-æŠ½è±¡)\n    - [åœ°å€ç»“æ„](#åœ°å€ç»“æ„)\n  - [Socket API å‡½æ•°(WinSock)](#socket-api-å‡½æ•°winsock)\n    - [å¸¸ç”¨çš„ Socket API å‡½æ•°](#å¸¸ç”¨çš„-socket-api-å‡½æ•°)\n      - [`WSAStartup`](#wsastartup)\n      - [`WSACleanup`](#wsacleanup)\n      - [`socket`](#socket)\n      - [`closesocket`](#closesocket)\n      - [`bind`](#bind)\n      - [`listen`](#listen)\n      - [`connect`](#connect)\n      - [`accept`](#accept)\n      - [`send`, `sendto`](#send-sendto)\n      - [recv, recvfrom](#recv-recvfrom)\n      - [setsockopt, getsockopt](#setsockopt-getsockopt)\n      - [å°ç»“ ğŸŒŸ](#å°ç»“-)\n    - [ç½‘ç»œå­—èŠ‚é¡ºåº](#ç½‘ç»œå­—èŠ‚é¡ºåº)\n    - [ç½‘ç»œåº”ç”¨çš„Socket API(TCP)è°ƒç”¨åŸºæœ¬æµç¨‹](#ç½‘ç»œåº”ç”¨çš„socket-apitcpè°ƒç”¨åŸºæœ¬æµç¨‹)\n  - [å®¢æˆ·ç«¯è½¯ä»¶è®¾è®¡](#å®¢æˆ·ç«¯è½¯ä»¶è®¾è®¡)\n    - [è§£ææœåŠ¡å™¨ IP åœ°å€](#è§£ææœåŠ¡å™¨-ip-åœ°å€)\n    - [è§£ææœåŠ¡å™¨(ç†ŸçŸ¥ç«¯å£å·)](#è§£ææœåŠ¡å™¨ç†ŸçŸ¥ç«¯å£å·)\n    - [è§£æåè®®å·](#è§£æåè®®å·)\n    - [å®¢æˆ·ç«¯è½¯ä»¶çš„å®ç°](#å®¢æˆ·ç«¯è½¯ä»¶çš„å®ç°)\n      - [TCP å®¢æˆ·ç«¯è½¯ä»¶æµç¨‹](#tcp-å®¢æˆ·ç«¯è½¯ä»¶æµç¨‹)\n      - [UDP å®¢æˆ·ç«¯è½¯ä»¶æµç¨‹](#udp-å®¢æˆ·ç«¯è½¯ä»¶æµç¨‹)\n      - [ç›¸å…³å‡½æ•°](#ç›¸å…³å‡½æ•°)\n        - [`connectsock()`](#connectsock)\n        - [`connectUDP()`](#connectudp)\n        - [`connectTCP`](#connecttcp)\n        - [å¼‚å¸¸å¤„ç†](#å¼‚å¸¸å¤„ç†)\n    - [å®¢æˆ·ç«¯è½¯ä»¶å®ä¾‹](#å®¢æˆ·ç«¯è½¯ä»¶å®ä¾‹)\n      - [è®¿é—® DAYTIME æœåŠ¡çš„å®¢æˆ·ç«¯ (TCP)](#è®¿é—®-daytime-æœåŠ¡çš„å®¢æˆ·ç«¯-tcp)\n      - [è®¿é—® DAYTIME æœåŠ¡çš„å®¢æˆ·ç«¯ (UDP)](#è®¿é—®-daytime-æœåŠ¡çš„å®¢æˆ·ç«¯-udp)\n  - [æœåŠ¡å™¨è½¯ä»¶è®¾è®¡](#æœåŠ¡å™¨è½¯ä»¶è®¾è®¡)\n    - [4 ç§åŸºæœ¬ç±»å‹æœåŠ¡å™¨](#4-ç§åŸºæœ¬ç±»å‹æœåŠ¡å™¨)\n      - [å¾ªç¯æ— è¿æ¥æœåŠ¡å™¨(Iterative connectionless)](#å¾ªç¯æ— è¿æ¥æœåŠ¡å™¨iterative-connectionless)\n      - [å¾ªç¯é¢å‘è¿æ¥æœåŠ¡å™¨(Iterative connection-oriented)](#å¾ªç¯é¢å‘è¿æ¥æœåŠ¡å™¨iterative-connection-oriented)\n      - [å¹¶å‘æ— è¿æ¥æœåŠ¡å™¨(Concurrent connectionless)](#å¹¶å‘æ— è¿æ¥æœåŠ¡å™¨concurrent-connectionless)\n      - [å¹¶å‘é¢å‘è¿æ¥æœåŠ¡å™¨(Concurrent connection-oriented)](#å¹¶å‘é¢å‘è¿æ¥æœåŠ¡å™¨concurrent-connection-oriented)\n    - [æœåŠ¡å™¨çš„å®ç°](#æœåŠ¡å™¨çš„å®ç°)\n      - [`passivesock()`](#passivesock)\n      - [`passiveUDP()`](#passiveudp)\n      - [`passiveTCP()`](#passivetcp)\n    - [æœåŠ¡ç«¯è½¯ä»¶å®ä¾‹](#æœåŠ¡ç«¯è½¯ä»¶å®ä¾‹)\n      - [ä¾‹: æ— è¿æ¥å¾ªç¯ `DAYTIME` æœåŠ¡å™¨](#ä¾‹-æ— è¿æ¥å¾ªç¯-daytime-æœåŠ¡å™¨)\n      - [ä¾‹: é¢å‘è¿æ¥å¹¶å‘ `DAYTIME` æœåŠ¡å™¨](#ä¾‹-é¢å‘è¿æ¥å¹¶å‘-daytime-æœåŠ¡å™¨)"}},n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"socket-ç¼–ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#socket-ç¼–ç¨‹"}},[t._v("#")]),t._v(" Socket ç¼–ç¨‹")]),t._v(" "),a("Markmap",{attrs:{id:"markmap_1a96284d",code:t.$dataBlock.markmap_1a96284d}}),a("h2",{attrs:{id:"åº”ç”¨ç¼–ç¨‹æ¥å£api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç”¨ç¼–ç¨‹æ¥å£api"}},[t._v("#")]),t._v(" åº”ç”¨ç¼–ç¨‹æ¥å£(API)")]),t._v(" "),a("h3",{attrs:{id:"ç½‘ç»œç¨‹è®¾è®¡æ¥å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç½‘ç»œç¨‹è®¾è®¡æ¥å£"}},[t._v("#")]),t._v(" ç½‘ç»œç¨‹è®¾è®¡æ¥å£")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210825093613-2021-08-25-09-36-14.png",alt:"20210825093613-2021-08-25-09-36-14"}})]),t._v(" "),a("ul",[a("li",[t._v("Socket ç¼–ç¨‹é’ˆå¯¹ä¼ è¾“å±‚")])]),t._v(" "),a("h3",{attrs:{id:"åº”ç”¨ç¼–ç¨‹æ¥å£-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç”¨ç¼–ç¨‹æ¥å£-api"}},[t._v("#")]),t._v(" åº”ç”¨ç¼–ç¨‹æ¥å£ API")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("åº”ç”¨ç¼–ç¨‹æ¥å£ API (Application Programming Interface)")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210825094258-2021-08-25-09-42-58.png",alt:"20210825094258-2021-08-25-09-42-58"}})]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("åº”ç”¨è¿›ç¨‹çš„æ§åˆ¶æƒ")]),t._v("å’Œ"),a("strong",[t._v("æ“ä½œç³»ç»Ÿçš„æ§åˆ¶æƒ")]),t._v("è¿›è¡Œè½¬æ¢çš„ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨æ¥å£")])])]),t._v(" "),a("h3",{attrs:{id:"å‡ ç§å…¸å‹çš„åº”ç”¨ç¼–ç¨‹æ¥å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡ ç§å…¸å‹çš„åº”ç”¨ç¼–ç¨‹æ¥å£"}},[t._v("#")]),t._v(" å‡ ç§å…¸å‹çš„åº”ç”¨ç¼–ç¨‹æ¥å£")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("å…¸å‹çš„åº”ç”¨ç¼–ç¨‹æ¥å£")]),t._v(" "),a("ul",[a("li",[t._v("Berkeley UNIX æ“ä½œç³»ç»Ÿå®šä¹‰äº†ä¸€ç§ APIï¼Œç§°ä¸ºå¥—æ¥å­—æ¥å£(socket interface)ï¼Œç®€ç§°"),a("strong",[t._v("å¥—æ¥å­—")]),t._v(" (socket)\n"),a("ul",[a("li",[t._v("åº”ç”¨æœ€å¹¿")])])]),t._v(" "),a("li",[t._v("å¾®è½¯å…¬å¸åœ¨å…¶æ“ä½œç³»ç»Ÿä¸­é‡‡ç”¨äº†å¥—æ¥å­—æ¥å£ APIï¼Œå½¢æˆäº†ä¸€ä¸ªç¨æœ‰ä¸åŒçš„ APIï¼Œå¹¶ç§°ä¹‹ä¸º Windows Socket Interfaceï¼Œ"),a("strong",[t._v("WINSOCK")])]),t._v(" "),a("li",[t._v("AT&T ä¸ºå…¶ UNIX ç³»ç»Ÿ V å®šä¹‰äº†ä¸€ç§ APIï¼Œç®€å†™ä¸º TLI (Transport Layer Interface)")])])]),t._v(" "),a("h2",{attrs:{id:"socket-api-æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#socket-api-æ¦‚è¿°"}},[t._v("#")]),t._v(" Socket API æ¦‚è¿°")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("æœ€åˆè®¾è®¡")]),t._v(" "),a("ul",[a("li",[t._v("é¢å‘BSD UNIX-Berkley")]),t._v(" "),a("li",[t._v("é¢å‘TCP/IPåè®®æ ˆæ¥å£")])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("ç›®å‰æƒ…å†µ")]),t._v(" "),a("ul",[a("li",[t._v("äº‹å®ä¸Šçš„å·¥ä¸šæ ‡å‡†")]),t._v(" "),a("li",[t._v("ç»å¤§å¤šæ•°æ“ä½œç³»ç»Ÿéƒ½æ”¯æŒ")])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("Internetç½‘ç»œåº”ç”¨æœ€å…¸å‹çš„APIæ¥å£")])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("é€šä¿¡æ¨¡å‹")]),t._v(" "),a("ul",[a("li",[t._v("å®¢æˆ·/æœåŠ¡å™¨ï¼ˆC/Sï¼‰")])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("åº”ç”¨è¿›ç¨‹é—´é€šä¿¡çš„æŠ½è±¡æœºåˆ¶")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ç¤ºæ„å›¾")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210825095224-2021-08-25-09-52-24.png",alt:"20210825095224-2021-08-25-09-52-24"}})])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("æ ‡è¯†é€šä¿¡ç«¯ç‚¹ï¼ˆå¯¹å¤–ï¼‰")]),t._v(" "),a("ul",[a("li",[t._v("IPåœ°å€+ç«¯å£å·")])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("ç¤ºæ„å›¾")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210825095320-2021-08-25-09-53-20.png",alt:"20210825095320-2021-08-25-09-53-20"}})])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æ“ä½œç³»ç»Ÿ/è¿›ç¨‹å¦‚ä½•ç®¡ç†å¥—æ¥å­—ï¼ˆå¯¹å†…ï¼‰ï¼Ÿ")]),t._v(" "),a("ul",[a("li",[t._v("å¥—æ¥å­—æè¿°ç¬¦ï¼ˆsocket descriptorï¼‰\n"),a("ul",[a("li",[t._v("å°æ•´æ•°")])])])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("å¥—æ¥å­—å¯¹å†…ï¼Œå¯¹å¤–ç®¡ç†æœºåˆ¶æ˜¯ä¸åŒçš„")])]),t._v(" "),a("h3",{attrs:{id:"socket-æŠ½è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#socket-æŠ½è±¡"}},[t._v("#")]),t._v(" Socket æŠ½è±¡")]),t._v(" "),a("ul",[a("li",[t._v("ç±»ä¼¼äºæ–‡ä»¶çš„æŠ½è±¡")]),t._v(" "),a("li",[t._v("å½“åº”ç”¨è¿›ç¨‹åˆ›å»ºå¥—æ¥å­—æ—¶ï¼Œæ“ä½œç³»ç»Ÿåˆ†é…ä¸€ä¸ªæ•°æ®ç»“æ„å­˜å‚¨è¯¥å¥—æ¥å­—ç›¸å…³ä¿¡æ¯")]),t._v(" "),a("li",[t._v("è¿”å›å¥—æ¥å­—æè¿°ç¬¦\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210825100049-2021-08-25-10-00-49.png",alt:"20210825100049-2021-08-25-10-00-49"}})])]),t._v(" "),a("h3",{attrs:{id:"åœ°å€ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ°å€ç»“æ„"}},[t._v("#")]),t._v(" åœ°å€ç»“æ„")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("å·²å®šä¹‰ç»“æ„ sockaddr_in æ¥è¡¨ç¤ºåœ°å€ç»“æ„")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("sockaddr_in")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\nu_char sin_len"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* åœ°å€é•¿åº¦ */")]),t._v("\nu_char sin_family"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* åœ°å€æ—(TCP/IPï¼šAF_INET) */")]),t._v("\nu_short sin_port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ç«¯å£å· */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("in_addr")]),t._v(" sin_addr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* IPåœ°å€ */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" sin_zero"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* æœªç”¨(ç½®0) */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),a("p",[t._v("ä½¿ç”¨TCP/IPåè®®ç°‡çš„ç½‘ç»œåº”ç”¨ç¨‹åºå£°æ˜ç«¯ç‚¹åœ°å€å˜é‡æ—¶ï¼Œä½¿ç”¨ç»“æ„ "),a("code",[t._v("sockaddr_in")])])])]),t._v(" "),a("h2",{attrs:{id:"socket-api-å‡½æ•°winsock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#socket-api-å‡½æ•°winsock"}},[t._v("#")]),t._v(" Socket API å‡½æ•°(WinSock)")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210825100822-2021-08-25-10-08-22.png",alt:"20210825100822-2021-08-25-10-08-22"}})]),t._v(" "),a("h3",{attrs:{id:"å¸¸ç”¨çš„-socket-api-å‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸ç”¨çš„-socket-api-å‡½æ•°"}},[t._v("#")]),t._v(" å¸¸ç”¨çš„ Socket API å‡½æ•°")]),t._v(" "),a("h4",{attrs:{id:"wsastartup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wsastartup"}},[t._v("#")]),t._v(" "),a("code",[t._v("WSAStartup")])]),t._v(" "),a("h4",{attrs:{id:"wsacleanup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wsacleanup"}},[t._v("#")]),t._v(" "),a("code",[t._v("WSACleanup")])]),t._v(" "),a("p",[a("code",[t._v("int WSACleanup (void)")])]),t._v(" "),a("ul",[a("li",[t._v("åº”ç”¨ç¨‹åºåœ¨å®Œæˆå¯¹è¯·æ±‚çš„Socketåº“çš„ä½¿ç”¨ï¼Œæœ€åè¦è°ƒç”¨WSACleanupå‡½æ•°")]),t._v(" "),a("li",[t._v("è§£é™¤ä¸Socketåº“çš„ç»‘å®š")]),t._v(" "),a("li",[t._v("é‡Šæ”¾Socketåº“æ‰€å ç”¨çš„ç³»ç»Ÿèµ„æº")])]),t._v(" "),a("h4",{attrs:{id:"socket"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#socket"}},[t._v("#")]),t._v(" "),a("code",[t._v("socket")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("åˆ›å»ºå¥—æ¥å­—")])]),t._v(" "),a("li",[a("p",[t._v("æ“ä½œç³»ç»Ÿè¿”å›å¥—æ¥å­—æè¿°ç¬¦ï¼ˆsdï¼‰")])]),t._v(" "),a("li",[a("p",[t._v("ç¬¬ä¸€ä¸ªå‚æ•°(åè®®æ—)")]),t._v(" "),a("ul",[a("li",[t._v("protofamily = PF_INETï¼ˆTCP/IPï¼‰")])])]),t._v(" "),a("li",[a("p",[t._v("ç¬¬äºŒä¸ªå‚æ•°(å¥—æ¥å­—ç±»å‹):")]),t._v(" "),a("ul",[a("li",[t._v("type = SOCK_STREAM,SOCK_DGRAM or SOCK_RAWï¼ˆTCP/IPï¼‰")])])]),t._v(" "),a("li",[a("p",[t._v("ç¬¬ä¸‰ä¸ªå‚æ•°(åè®®å·):0ä¸ºé»˜è®¤")])]),t._v(" "),a("li",[a("p",[t._v("ä¾‹ï¼šåˆ›å»ºä¸€ä¸ªæµå¥—æ¥å­—çš„ä»£ç æ®µ")])])]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("protoent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\np"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getprotobyname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tcp"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nSOCKET sd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("socket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PF_INET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("SOCK_STREAM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("p_proto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Socketé¢å‘TCP/IPçš„æœåŠ¡ç±»å‹")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210825101455-2021-08-25-10-14-55.png",alt:"20210825101455-2021-08-25-10-14-55"}})]),t._v(" "),a("ul",[a("li",[a("code",[t._v("TCP")]),t._v(" "),a("ul",[a("li",[t._v("å¯é ã€é¢å‘è¿æ¥ã€å­—èŠ‚æµä¼ è¾“ã€ç‚¹å¯¹ç‚¹ã€å…¨åŒå·¥")])])]),t._v(" "),a("li",[a("code",[t._v("UDP")]),t._v(" "),a("ul",[a("li",[t._v("ä¸å¯é ã€æ— è¿æ¥ã€æ•°æ®æŠ¥ä¼ è¾“")])])]),t._v(" "),a("li",[t._v("åŸå§‹å¥—æ¥å­—")])])]),t._v(" "),a("h4",{attrs:{id:"closesocket"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#closesocket"}},[t._v("#")]),t._v(" "),a("code",[t._v("closesocket")])]),t._v(" "),a("p",[a("code",[t._v("int closesocket(SOCKET sd)")])]),t._v(" "),a("ul",[a("li",[t._v("å…³é—­ä¸€ä¸ªæè¿°ç¬¦ä¸º "),a("code",[t._v("sd")]),t._v(" çš„å¥—æ¥å­—")]),t._v(" "),a("li",[t._v("å¦‚æœå¤šä¸ªè¿›ç¨‹å…±äº«ä¸€ä¸ªå¥—æ¥å­—ï¼Œè°ƒç”¨ "),a("code",[t._v("closesocket")]),t._v(" "),a("ul",[a("li",[t._v("å°†å¥—æ¥å­—å¼•ç”¨è®¡æ•°å‡1ï¼Œå‡è‡³0æ‰å…³é—­")])])]),t._v(" "),a("li",[t._v("ä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šçº¿ç¨‹å¯¹ä¸€ä¸ªå¥—æ¥å­—çš„ä½¿ç”¨æ— è®¡æ•°\n"),a("ul",[a("li",[t._v("å¦‚æœè¿›ç¨‹ä¸­çš„ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ "),a("code",[t._v("closesocket")]),t._v(" å°†ä¸€ä¸ªå¥—æ¥å­—å…³é—­ï¼Œè¯¥è¿›ç¨‹ä¸­çš„å…¶ä»–çº¿ç¨‹ä¹Ÿå°†ä¸èƒ½è®¿é—®è¯¥å¥—æ¥å­—")])])]),t._v(" "),a("li",[t._v("è¿”å›å€¼ï¼š\n"),a("ul",[a("li",[t._v("0ï¼šæˆåŠŸ")]),t._v(" "),a("li",[t._v("SOCKET_ERRORï¼šå¤±è´¥")])])])]),t._v(" "),a("h4",{attrs:{id:"bind"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bind"}},[t._v("#")]),t._v(" "),a("code",[t._v("bind")])]),t._v(" "),a("p",[a("code",[t._v("int bind(sd,localaddr,addrlen)")])]),t._v(" "),a("ul",[a("li",[t._v("ç»‘å®šå¥—æ¥å­—çš„æœ¬åœ°ç«¯ç‚¹åœ°å€\n"),a("ul",[a("li",[t._v("IPåœ°å€+ç«¯å£å·")])])]),t._v(" "),a("li",[t._v("å‚æ•°:\n"),a("ul",[a("li",[t._v("å¥—æ¥å­—æè¿°ç¬¦ï¼ˆ"),a("code",[t._v("sd")]),t._v("ï¼‰")]),t._v(" "),a("li",[t._v("ç«¯ç‚¹åœ°å€ï¼ˆ"),a("code",[t._v("localaddr")]),t._v("ï¼‰\n"),a("ul",[a("li",[t._v("ç»“æ„ "),a("code",[t._v("sockaddr_in")])])])])])]),t._v(" "),a("li",[t._v("å®¢æˆ·ç¨‹åºä¸€èˆ¬ä¸å¿…è°ƒç”¨ "),a("code",[t._v("bind")]),t._v(" å‡½æ•°")]),t._v(" "),a("li",[t._v("æœåŠ¡å™¨ç«¯éœ€è¦è°ƒç”¨\n"),a("ul",[a("li",[t._v("ç†ŸçŸ¥ç«¯å£å·\n"),a("ul",[a("li",[t._v("æ ‡å‡†åº”ç”¨")])])]),t._v(" "),a("li",[t._v("IPåœ°å€\n"),a("ul",[a("li",[t._v("å¤šä¸ªç½‘ç»œåœ°å€ç”¨åœ°å€é€šé…ç¬¦è§£å†³")])])])])])]),t._v(" "),a("h4",{attrs:{id:"listen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listen"}},[t._v("#")]),t._v(" "),a("code",[t._v("listen")])]),t._v(" "),a("p",[a("code",[t._v("int listen(sd,queuesize);")])]),t._v(" "),a("ul",[a("li",[t._v("ç½®æœåŠ¡å™¨ç«¯çš„æµå¥—æ¥å­—å¤„äºç›‘å¬çŠ¶æ€\n"),a("ul",[a("li",[t._v("ä»…æœåŠ¡å™¨ç«¯è°ƒç”¨")]),t._v(" "),a("li",[t._v("ä»…ç”¨äºé¢å‘è¿æ¥çš„æµå¥—æ¥å­—")])])]),t._v(" "),a("li",[t._v("è®¾ç½®è¿æ¥è¯·æ±‚é˜Ÿåˆ—å¤§å°ï¼ˆqueuesizeï¼‰")]),t._v(" "),a("li",[t._v("è¿”å›å€¼ï¼š\n"),a("ul",[a("li",[t._v("0:æˆåŠŸ")]),t._v(" "),a("li",[t._v("SOCKET_ERRORï¼šå¤±è´¥")])])])]),t._v(" "),a("h4",{attrs:{id:"connect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connect"}},[t._v("#")]),t._v(" "),a("code",[t._v("connect")])]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("connect(sd,saddr,saddrlen)")]),t._v(";")])]),t._v(" "),a("li",[a("p",[t._v("å®¢æˆ·ç¨‹åºè°ƒç”¨ "),a("code",[t._v("connect")]),t._v(" å‡½æ•°æ¥ä½¿å®¢æˆ·å¥—æ¥å­—ï¼ˆ "),a("code",[t._v("sd")]),t._v(" ï¼‰ä¸ç‰¹å®šè®¡ç®—æœºçš„ç‰¹å®šç«¯å£ï¼ˆ "),a("code",[t._v("saddr")]),t._v(" ï¼‰çš„å¥—æ¥å­—ï¼ˆæœåŠ¡ï¼‰è¿›è¡Œè¿æ¥")])]),t._v(" "),a("li",[a("p",[t._v("ä»…ç”¨äºå®¢æˆ·ç«¯")])]),t._v(" "),a("li",[a("p",[t._v("å¯ç”¨äºTCPå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥ç”¨äº UDPå®¢æˆ·ç«¯")]),t._v(" "),a("ul",[a("li",[t._v("TCPå®¢æˆ·ç«¯ï¼šå»ºç«‹TCPè¿æ¥")]),t._v(" "),a("li",[t._v("UDPå®¢æˆ·ç«¯ï¼šåªæ˜¯æŒ‡å®šæœåŠ¡å™¨ç«¯ç‚¹åœ°å€\n"),a("ul",[a("li",[t._v("ç»å¯¹ä¸å¯èƒ½å‘ç”Ÿè¿æ¥")])])])])])]),t._v(" "),a("h4",{attrs:{id:"accept"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#accept"}},[t._v("#")]),t._v(" "),a("code",[t._v("accept")])]),t._v(" "),a("p",[a("code",[t._v("newsock = accept(sd,caddr,caddrlen);")])]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡ç¨‹åºè°ƒç”¨ "),a("code",[t._v("accept")]),t._v(" å‡½æ•°ä»å¤„äºç›‘å¬çŠ¶æ€çš„æµå¥—æ¥å­— "),a("code",[t._v("sd")]),t._v(" çš„å®¢æˆ·è¿æ¥è¯·æ±‚é˜Ÿåˆ—ä¸­å–å‡ºæ’åœ¨æœ€å‰çš„ä¸€ä¸ªå®¢æˆ·è¯·æ±‚ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªæ–°çš„å¥—æ¥å­—æ¥ä¸å®¢æˆ·å¥—æ¥å­—åˆ›å»ºè¿æ¥é€šé“\n"),a("ul",[a("li",[t._v("ä»…ç”¨äºTCPå¥—æ¥å­—")]),t._v(" "),a("li",[t._v("ä»…ç”¨äºæœåŠ¡å™¨")])])]),t._v(" "),a("li",[t._v("é˜Ÿåˆ—å¯ä»¥å®ç°å¹¶å‘ TCP é€šä¿¡")]),t._v(" "),a("li",[t._v("åˆ©ç”¨æ–°åˆ›å»ºçš„å¥—æ¥å­—ï¼ˆnewsockï¼‰ä¸å®¢æˆ·é€šä¿¡")])]),t._v(" "),a("h4",{attrs:{id:"send-sendto"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send-sendto"}},[t._v("#")]),t._v(" "),a("code",[t._v("send")]),t._v(", "),a("code",[t._v("sendto")])]),t._v(" "),a("p",[a("code",[t._v("send(sd,*buf,len,flags);")]),t._v(" "),a("code",[t._v("sendto(sd,*buf,len,flags,destaddr,addrlen);")])]),t._v(" "),a("p",[t._v("sendå‡½æ•°TCPå¥—æ¥å­—ï¼ˆå®¢æˆ·ä¸æœåŠ¡å™¨ï¼‰æˆ–è°ƒç”¨äº†\nconnectå‡½æ•°çš„UDPå®¢æˆ·ç«¯å¥—æ¥å­—\nï¶sendtoå‡½æ•°ç”¨äºUDPæœåŠ¡å™¨ç«¯å¥—æ¥å­—ä¸æœªè°ƒç”¨\nconnectå‡½æ•°çš„UDPå®¢æˆ·ç«¯å¥—æ¥å­—")]),t._v(" "),a("h4",{attrs:{id:"recv-recvfrom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#recv-recvfrom"}},[t._v("#")]),t._v(" recv, recvfrom")]),t._v(" "),a("p",[t._v("recv(sd,*buffer,len,flags);\nrecvfrom(sd,*buf,len,flags,senderaddr,saddrlen);")]),t._v(" "),a("p",[t._v("ï¶recvå‡½æ•°ä»TCPè¿æ¥çš„å¦ä¸€ç«¯æ¥æ”¶æ•°æ®ï¼Œæˆ–è€…ä»\nè°ƒç”¨äº†connectå‡½æ•°çš„UDPå®¢æˆ·ç«¯å¥—æ¥å­—æ¥æ”¶æœåŠ¡\nå™¨å‘æ¥çš„æ•°æ®\nï¶recvfromå‡½æ•°ç”¨äºä»UDPæœåŠ¡å™¨ç«¯å¥—æ¥å­—ä¸æœªè°ƒ\nç”¨connectå‡½æ•°çš„UDPå®¢æˆ·ç«¯å¥—æ¥å­—æ¥æ”¶å¯¹ç«¯æ•°æ®")]),t._v(" "),a("h4",{attrs:{id:"setsockopt-getsockopt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setsockopt-getsockopt"}},[t._v("#")]),t._v(" setsockopt, getsockopt")]),t._v(" "),a("p",[t._v("int setsockopt(int sd, int level, int optname, *optval, int optlen);\nint getsockopt(int sd, int level, int optname, *optval, socklen_t *optlen);\nï¶setsockopt()å‡½æ•°ç”¨æ¥è®¾ç½®å¥—æ¥å­—sdçš„é€‰é¡¹å‚æ•°\nï¶getsockopt()å‡½æ•°ç”¨äºè·å–ä»»æ„ç±»å‹ã€ä»»æ„çŠ¶æ€å¥—\næ¥å£çš„é€‰é¡¹å½“å‰å€¼ï¼Œå¹¶æŠŠç»“æœå­˜å…¥optval")]),t._v(" "),a("h4",{attrs:{id:"å°ç»“-"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“-"}},[t._v("#")]),t._v(" å°ç»“ ğŸŒŸ")]),t._v(" "),a("p",[t._v("WSAStartup: åˆå§‹åŒ–socketåº“(ä»…å¯¹WinSock)\nï¶ WSACleanup: æ¸…æ¥š/ç»ˆæ­¢socketåº“çš„ä½¿ç”¨ (ä»…å¯¹WinSock)\nï¶ socket: åˆ›å»ºå¥—æ¥å­—\nï¶ connect:â€œè¿æ¥â€è¿œç«¯æœåŠ¡å™¨ (ä»…ç”¨äºå®¢æˆ·ç«¯)\nï¶ closesocket: é‡Šæ”¾/å…³é—­å¥—æ¥å­—\nï¶ bind: ç»‘å®šå¥—æ¥å­—çš„æœ¬åœ°IPåœ°å€å’Œç«¯å£å·ï¼ˆé€šå¸¸å®¢æˆ·ç«¯ä¸\néœ€è¦ï¼‰\nï¶ listen: ç½®æœåŠ¡å™¨ç«¯TCPå¥—æ¥å­—ä¸ºç›‘å¬æ¨¡å¼ï¼Œå¹¶è®¾ç½®é˜Ÿåˆ—\nå¤§å° (ä»…ç”¨äºæœåŠ¡å™¨ç«¯TCPå¥—æ¥å­—)\nï¶ accept: æ¥å—/æå–ä¸€ä¸ªè¿æ¥è¯·æ±‚ï¼Œåˆ›å»ºæ–°å¥—æ¥å­—ï¼Œé€šè¿‡æ–°\nå¥—æ¥ (ä»…ç”¨äºæœåŠ¡å™¨ç«¯çš„TCPå¥—æ¥å­—)\nï¶ recv: æ¥æ”¶æ•°æ®ï¼ˆç”¨äºTCPå¥—æ¥å­—æˆ–è¿æ¥æ¨¡å¼çš„å®¢æˆ·ç«¯\nUDPå¥—æ¥å­—ï¼‰\nrecvfrom: æ¥æ”¶æ•°æ®æŠ¥ï¼ˆç”¨äºéè¿æ¥æ¨¡å¼çš„UDPå¥—æ¥å­—ï¼‰\nï¶ send: å‘é€æ•°æ®ï¼ˆç”¨äºTCPå¥—æ¥å­—æˆ–è¿æ¥æ¨¡å¼çš„å®¢æˆ·ç«¯\nUDPå¥—æ¥å­—ï¼‰\nï¶ sendto:å‘é€æ•°æ®æŠ¥ï¼ˆç”¨äºéè¿æ¥æ¨¡å¼çš„UDPå¥—æ¥å­—ï¼‰\nï¶ setsockopt: è®¾ç½®å¥—æ¥å­—é€‰é¡¹å‚æ•°\nï¶ getsockopt: è·å–å¥—æ¥å­—é€‰é¡¹å‚æ•°")]),t._v(" "),a("h3",{attrs:{id:"ç½‘ç»œå­—èŠ‚é¡ºåº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç½‘ç»œå­—èŠ‚é¡ºåº"}},[t._v("#")]),t._v(" ç½‘ç»œå­—èŠ‚é¡ºåº")]),t._v(" "),a("p",[t._v("TCP/IPå®šä¹‰äº†æ ‡å‡†çš„ç”¨äºåè®®å¤´ä¸­çš„äºŒè¿›åˆ¶æ•´\næ•°è¡¨ç¤ºï¼šç½‘ç»œå­—èŠ‚é¡ºåºï¼ˆnetwork byte orderï¼‰\nï¶æŸäº›Socket APIå‡½æ•°çš„å‚æ•°éœ€è¦å­˜å‚¨ä¸ºç½‘ç»œå­—\nèŠ‚é¡ºåºï¼ˆå¦‚IPåœ°å€ã€ç«¯å£å·ç­‰ï¼‰\nï¶å¯ä»¥å®ç°æœ¬åœ°å­—èŠ‚é¡ºåºä¸ç½‘ç»œå­—èŠ‚é¡ºåºé—´è½¬æ¢\nçš„å‡½æ•°\nï‚§ htons : æœ¬åœ°å­—èŠ‚é¡ºåºâ†’ç½‘ç»œå­—èŠ‚é¡ºåº(16bits)\nï‚§ ntohs : ç½‘ç»œå­—èŠ‚é¡ºåºâ†’æœ¬åœ°å­—èŠ‚é¡ºåº(16bits)\nï‚§ htonl : æœ¬åœ°å­—èŠ‚é¡ºåºâ†’ç½‘ç»œå­—èŠ‚é¡ºåº(32bits)\nï‚§ ntohl : ç½‘ç»œå­—èŠ‚é¡ºåºâ†’æœ¬åœ°å­—èŠ‚é¡ºåº(32bits)")]),t._v(" "),a("h3",{attrs:{id:"ç½‘ç»œåº”ç”¨çš„socket-apitcpè°ƒç”¨åŸºæœ¬æµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç½‘ç»œåº”ç”¨çš„socket-apitcpè°ƒç”¨åŸºæœ¬æµç¨‹"}},[t._v("#")]),t._v(" ç½‘ç»œåº”ç”¨çš„Socket API(TCP)è°ƒç”¨åŸºæœ¬æµç¨‹")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210826201555-2021-08-26-20-15-55.png",alt:"20210826201555-2021-08-26-20-15-55"}})]),t._v(" "),a("h2",{attrs:{id:"å®¢æˆ·ç«¯è½¯ä»¶è®¾è®¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®¢æˆ·ç«¯è½¯ä»¶è®¾è®¡"}},[t._v("#")]),t._v(" å®¢æˆ·ç«¯è½¯ä»¶è®¾è®¡")]),t._v(" "),a("h3",{attrs:{id:"è§£ææœåŠ¡å™¨-ip-åœ°å€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£ææœåŠ¡å™¨-ip-åœ°å€"}},[t._v("#")]),t._v(" è§£ææœåŠ¡å™¨ IP åœ°å€")]),t._v(" "),a("h3",{attrs:{id:"è§£ææœåŠ¡å™¨ç†ŸçŸ¥ç«¯å£å·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£ææœåŠ¡å™¨ç†ŸçŸ¥ç«¯å£å·"}},[t._v("#")]),t._v(" è§£ææœåŠ¡å™¨(ç†ŸçŸ¥ç«¯å£å·)")]),t._v(" "),a("h3",{attrs:{id:"è§£æåè®®å·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£æåè®®å·"}},[t._v("#")]),t._v(" è§£æåè®®å·")]),t._v(" "),a("h3",{attrs:{id:"å®¢æˆ·ç«¯è½¯ä»¶çš„å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®¢æˆ·ç«¯è½¯ä»¶çš„å®ç°"}},[t._v("#")]),t._v(" å®¢æˆ·ç«¯è½¯ä»¶çš„å®ç°")]),t._v(" "),a("h4",{attrs:{id:"tcp-å®¢æˆ·ç«¯è½¯ä»¶æµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp-å®¢æˆ·ç«¯è½¯ä»¶æµç¨‹"}},[t._v("#")]),t._v(" TCP å®¢æˆ·ç«¯è½¯ä»¶æµç¨‹")]),t._v(" "),a("h4",{attrs:{id:"udp-å®¢æˆ·ç«¯è½¯ä»¶æµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#udp-å®¢æˆ·ç«¯è½¯ä»¶æµç¨‹"}},[t._v("#")]),t._v(" UDP å®¢æˆ·ç«¯è½¯ä»¶æµç¨‹")]),t._v(" "),a("h4",{attrs:{id:"ç›¸å…³å‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›¸å…³å‡½æ•°"}},[t._v("#")]),t._v(" ç›¸å…³å‡½æ•°")]),t._v(" "),a("h5",{attrs:{id:"connectsock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connectsock"}},[t._v("#")]),t._v(" "),a("code",[t._v("connectsock()")])]),t._v(" "),a("h5",{attrs:{id:"connectudp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connectudp"}},[t._v("#")]),t._v(" "),a("code",[t._v("connectUDP()")])]),t._v(" "),a("h5",{attrs:{id:"connecttcp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connecttcp"}},[t._v("#")]),t._v(" "),a("code",[t._v("connectTCP")])]),t._v(" "),a("h5",{attrs:{id:"å¼‚å¸¸å¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚å¸¸å¤„ç†"}},[t._v("#")]),t._v(" å¼‚å¸¸å¤„ç†")]),t._v(" "),a("h3",{attrs:{id:"å®¢æˆ·ç«¯è½¯ä»¶å®ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®¢æˆ·ç«¯è½¯ä»¶å®ä¾‹"}},[t._v("#")]),t._v(" å®¢æˆ·ç«¯è½¯ä»¶å®ä¾‹")]),t._v(" "),a("h4",{attrs:{id:"è®¿é—®-daytime-æœåŠ¡çš„å®¢æˆ·ç«¯-tcp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¿é—®-daytime-æœåŠ¡çš„å®¢æˆ·ç«¯-tcp"}},[t._v("#")]),t._v(" è®¿é—® DAYTIME æœåŠ¡çš„å®¢æˆ·ç«¯ (TCP)")]),t._v(" "),a("h4",{attrs:{id:"è®¿é—®-daytime-æœåŠ¡çš„å®¢æˆ·ç«¯-udp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è®¿é—®-daytime-æœåŠ¡çš„å®¢æˆ·ç«¯-udp"}},[t._v("#")]),t._v(" è®¿é—® DAYTIME æœåŠ¡çš„å®¢æˆ·ç«¯ (UDP)")]),t._v(" "),a("h2",{attrs:{id:"æœåŠ¡å™¨è½¯ä»¶è®¾è®¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡å™¨è½¯ä»¶è®¾è®¡"}},[t._v("#")]),t._v(" æœåŠ¡å™¨è½¯ä»¶è®¾è®¡")]),t._v(" "),a("h3",{attrs:{id:"4-ç§åŸºæœ¬ç±»å‹æœåŠ¡å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#4-ç§åŸºæœ¬ç±»å‹æœåŠ¡å™¨"}},[t._v("#")]),t._v(" 4 ç§åŸºæœ¬ç±»å‹æœåŠ¡å™¨")]),t._v(" "),a("h4",{attrs:{id:"å¾ªç¯æ— è¿æ¥æœåŠ¡å™¨iterative-connectionless"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾ªç¯æ— è¿æ¥æœåŠ¡å™¨iterative-connectionless"}},[t._v("#")]),t._v(" å¾ªç¯æ— è¿æ¥æœåŠ¡å™¨(Iterative connectionless)")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("åŸºæœ¬æµç¨‹")]),t._v(" "),a("ul",[a("li",[t._v("åˆ›å»ºå¥—æ¥å­—")]),t._v(" "),a("li",[t._v("ç»‘å®šç«¯ç‚¹åœ°å€ï¼ˆINADDR_ANY+ç«¯å£å·ï¼‰")]),t._v(" "),a("li",[t._v("åå¤æ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚")]),t._v(" "),a("li",[t._v("éµå¾ªåº”ç”¨å±‚åè®®ï¼Œæ„é€ å“åº”æŠ¥æ–‡ï¼Œå‘é€ç»™å®¢æˆ·")])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("æ•°æ®å‘é€")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡å™¨ç«¯ä¸èƒ½ä½¿ç”¨connect()å‡½æ•°")]),t._v(" "),a("li",[t._v("æ— è¿æ¥æœåŠ¡å™¨ä½¿ç”¨sendto()å‡½æ•°å‘é€æ•°æ®æŠ¥")])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("è·å–å®¢æˆ·ç«¯ç‚¹åœ°å€")])]),t._v(" "),a("h4",{attrs:{id:"å¾ªç¯é¢å‘è¿æ¥æœåŠ¡å™¨iterative-connection-oriented"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾ªç¯é¢å‘è¿æ¥æœåŠ¡å™¨iterative-connection-oriented"}},[t._v("#")]),t._v(" å¾ªç¯é¢å‘è¿æ¥æœåŠ¡å™¨(Iterative connection-oriented)")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("åŸºæœ¬æµç¨‹")]),t._v(" "),a("ol",[a("li",[t._v("åˆ›å»ºï¼ˆä¸»ï¼‰å¥—æ¥å­—ï¼Œå¹¶ç»‘å®šç†ŸçŸ¥ç«¯å£å·")]),t._v(" "),a("li",[t._v("è®¾ç½®ï¼ˆä¸»ï¼‰å¥—æ¥å­—ä¸ºè¢«åŠ¨ç›‘å¬æ¨¡å¼ï¼Œå‡†å¤‡ç”¨äºæœåŠ¡å™¨")]),t._v(" "),a("li",[t._v("è°ƒç”¨accept()å‡½æ•°æ¥æ”¶ä¸‹ä¸€ä¸ªè¿æ¥è¯·æ±‚ï¼ˆé€šè¿‡ä¸»å¥—æ¥å­—ï¼‰ï¼Œåˆ›å»ºæ–°å¥—æ¥å­—ç”¨äºä¸è¯¥å®¢æˆ·å»ºç«‹è¿æ¥")]),t._v(" "),a("li",[t._v("éµå¾ªåº”ç”¨å±‚åè®®ï¼Œåå¤æ¥æ”¶å®¢æˆ·è¯·æ±‚ï¼Œæ„é€ å¹¶å‘é€å“åº”(é€šè¿‡æ–°å¥—æ¥å­—)")]),t._v(" "),a("li",[t._v("å®Œæˆä¸ºç‰¹å®šå®¢æˆ·æœåŠ¡åï¼Œå…³é—­ä¸è¯¥å®¢æˆ·ä¹‹é—´çš„è¿æ¥ï¼Œè¿”å›æ­¥éª¤3")])])]),t._v(" "),a("h4",{attrs:{id:"å¹¶å‘æ— è¿æ¥æœåŠ¡å™¨concurrent-connectionless"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘æ— è¿æ¥æœåŠ¡å™¨concurrent-connectionless"}},[t._v("#")]),t._v(" å¹¶å‘æ— è¿æ¥æœåŠ¡å™¨(Concurrent connectionless)")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("åŸºæœ¬æµç¨‹")]),t._v(" "),a("p",[t._v("ä¸»çº¿ç¨‹1: åˆ›å»ºå¥—æ¥å­—ï¼Œå¹¶ç»‘å®šç†ŸçŸ¥ç«¯å£å·\nä¸»çº¿ç¨‹2: åå¤è°ƒç”¨ "),a("code",[t._v("recvfrom()")]),t._v(" å‡½æ•°ï¼Œæ¥æ”¶ä¸‹ä¸€ä¸ªå®¢æˆ·è¯·æ±‚ï¼Œå¹¶åˆ›å»ºæ–°çº¿ç¨‹å¤„ç†è¯¥å®¢æˆ·å“åº”")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("å­çº¿ç¨‹1: æ¥æ”¶ä¸€ä¸ªç‰¹å®šè¯·æ±‚\nå­çº¿ç¨‹2: ä¾æ®åº”ç”¨å±‚åè®®æ„é€ å“åº”æŠ¥æ–‡ï¼Œå¹¶è°ƒç”¨ "),a("code",[t._v("sendto()")]),t._v(" å‘é€\nå­çº¿ç¨‹3: é€€å‡º(ä¸€ä¸ªå­çº¿ç¨‹å¤„ç†ä¸€ä¸ªè¯·æ±‚åå³ç»ˆæ­¢)")])]),t._v(" "),a("h4",{attrs:{id:"å¹¶å‘é¢å‘è¿æ¥æœåŠ¡å™¨concurrent-connection-oriented"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘é¢å‘è¿æ¥æœåŠ¡å™¨concurrent-connection-oriented"}},[t._v("#")]),t._v(" å¹¶å‘é¢å‘è¿æ¥æœåŠ¡å™¨(Concurrent connection-oriented)")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("åŸºæœ¬æµç¨‹")]),t._v(" "),a("ul",[a("li",[t._v("ä¸»çº¿ç¨‹1: åˆ›å»ºï¼ˆä¸»ï¼‰å¥—æ¥å­—ï¼Œå¹¶ç»‘å®šç†ŸçŸ¥ç«¯å£å·ï¼›")]),t._v(" "),a("li",[t._v("ä¸»çº¿ç¨‹2: è®¾ç½®ï¼ˆä¸»ï¼‰å¥—æ¥å­—ä¸ºè¢«åŠ¨ç›‘å¬æ¨¡å¼ï¼Œå‡†å¤‡ç”¨äºæœåŠ¡å™¨ï¼›")]),t._v(" "),a("li",[t._v("ä¸»çº¿ç¨‹3: åå¤è°ƒç”¨accept()å‡½æ•°æ¥æ”¶ä¸‹ä¸€ä¸ª"),a("strong",[t._v("è¿æ¥è¯·æ±‚")]),t._v("ï¼ˆé€šè¿‡ä¸»å¥—æ¥å­—ï¼‰ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å­çº¿ç¨‹å¤„ç†è¯¥å®¢æˆ·å“åº”ï¼›")])]),t._v(" "),a("hr"),t._v(" "),a("ul",[a("li",[t._v("å­çº¿ç¨‹1: æ¥æ”¶ä¸€ä¸ªå®¢æˆ·çš„"),a("strong",[t._v("æœåŠ¡è¯·æ±‚")]),t._v("ï¼ˆé€šè¿‡æ–°åˆ›å»ºçš„å¥—æ¥å­—ï¼‰ï¼›")]),t._v(" "),a("li",[t._v("å­çº¿ç¨‹2: éµå¾ªåº”ç”¨å±‚åè®®ä¸ç‰¹å®šå®¢æˆ·è¿›è¡Œäº¤äº’ï¼›")]),t._v(" "),a("li",[t._v("å­çº¿ç¨‹3: å…³é—­/é‡Šæ”¾è¿æ¥å¹¶é€€å‡ºï¼ˆçº¿ç¨‹ç»ˆæ­¢ï¼‰")])])]),t._v(" "),a("h3",{attrs:{id:"æœåŠ¡å™¨çš„å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡å™¨çš„å®ç°"}},[t._v("#")]),t._v(" æœåŠ¡å™¨çš„å®ç°")]),t._v(" "),a("p",[t._v("ï¶è®¾è®¡ä¸€ä¸ªåº•å±‚è¿‡ç¨‹éšè—åº•å±‚ä»£ç ï¼š\nï‚§ passivesock()\nï¶ä¸¤ä¸ªé«˜å±‚è¿‡ç¨‹åˆ†åˆ«ç”¨äºåˆ›å»ºæœåŠ¡å™¨ç«¯UDPå¥—æ¥å­—\nå’ŒTCPå¥—æ¥å­—ï¼ˆè°ƒç”¨passivesock()å‡½æ•°ï¼‰:\nï‚§ passiveUDP()\nï‚§ passiveTCP()")]),t._v(" "),a("h4",{attrs:{id:"passivesock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#passivesock"}},[t._v("#")]),t._v(" "),a("code",[t._v("passivesock()")])]),t._v(" "),a("h4",{attrs:{id:"passiveudp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#passiveudp"}},[t._v("#")]),t._v(" "),a("code",[t._v("passiveUDP()")])]),t._v(" "),a("h4",{attrs:{id:"passivetcp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#passivetcp"}},[t._v("#")]),t._v(" "),a("code",[t._v("passiveTCP()")])]),t._v(" "),a("h3",{attrs:{id:"æœåŠ¡ç«¯è½¯ä»¶å®ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç«¯è½¯ä»¶å®ä¾‹"}},[t._v("#")]),t._v(" æœåŠ¡ç«¯è½¯ä»¶å®ä¾‹")]),t._v(" "),a("h4",{attrs:{id:"ä¾‹-æ— è¿æ¥å¾ªç¯-daytime-æœåŠ¡å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¾‹-æ— è¿æ¥å¾ªç¯-daytime-æœåŠ¡å™¨"}},[t._v("#")]),t._v(" ä¾‹: æ— è¿æ¥å¾ªç¯ "),a("code",[t._v("DAYTIME")]),t._v(" æœåŠ¡å™¨")]),t._v(" "),a("h4",{attrs:{id:"ä¾‹-é¢å‘è¿æ¥å¹¶å‘-daytime-æœåŠ¡å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¾‹-é¢å‘è¿æ¥å¹¶å‘-daytime-æœåŠ¡å™¨"}},[t._v("#")]),t._v(" ä¾‹: é¢å‘è¿æ¥å¹¶å‘ "),a("code",[t._v("DAYTIME")]),t._v(" æœåŠ¡å™¨")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210826211838-2021-08-26-21-18-38.png",alt:"20210826211838-2021-08-26-21-18-38"}})])],1)}),[],!1,null,null,null);"function"==typeof c&&c(n);s.default=n.exports}}]);