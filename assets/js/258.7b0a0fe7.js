(window.webpackJsonp=window.webpackJsonp||[]).push([[258],{808:function(t,s,a){"use strict";a.r(s);var l=a(12),v=function(t){t.options.__data__block__={markmap_1a96284d:"- [DNS 应用](#dns-应用)\n  - [DNS 概述](#dns-概述)\n  - [分布式层次式数据库](#分布式层次式数据库)\n    - [DNS根域名服务器](#dns根域名服务器)\n    - [顶级域名服务器](#顶级域名服务器)\n    - [权威域名服务器](#权威域名服务器)\n    - [本地域名解析服务器](#本地域名解析服务器)\n  - [迭代查询与递归查询](#迭代查询与递归查询)\n  - [DNS 记录缓存和更新](#dns-记录缓存和更新)\n  - [DNS 记录](#dns-记录)\n  - [DNS 协议与消息](#dns-协议与消息)\n  - [如何注册域名？](#如何注册域名)"}},i=Object(l.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"dns-应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns-应用"}},[t._v("#")]),t._v(" DNS 应用")]),t._v(" "),a("Markmap",{attrs:{id:"markmap_1a96284d",code:t.$dataBlock.markmap_1a96284d}}),a("h2",{attrs:{id:"dns-概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns-概述"}},[t._v("#")]),t._v(" DNS 概述")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("DNS：Domain Name System")]),t._v(" "),a("ul",[a("li",[t._v("Internet上主机/路由器的识别问题\n"),a("ul",[a("li",[t._v("IP地址")]),t._v(" "),a("li",[t._v("域名：www.hit.edu.cn\n"),a("ul",[a("li",[t._v("方便人记忆")])])])])]),t._v(" "),a("li",[t._v("DNS 解决了域名和IP地址之间的映射关系")])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("域名解析系统DNS")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("多层命名服务器")]),t._v("构成的"),a("strong",[t._v("分布式数据库")])]),t._v(" "),a("li",[t._v("应用层协议：完成名字的解析\n"),a("ul",[a("li",[a("strong",[t._v("Internet核心功能")]),t._v("，用应用层协议实现")]),t._v(" "),a("li",[t._v("网络边界复杂")])])])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("DNS 服务")]),t._v(" "),a("ul",[a("li",[t._v("域名向IP地址的翻译")]),t._v(" "),a("li",[t._v("主机别名")]),t._v(" "),a("li",[t._v("邮件服务器别名")]),t._v(" "),a("li",[t._v("负载均衡：Web服务器\n"),a("ul",[a("li",[t._v("提供多个服务器 ip 地址，然后轮流提供")])])])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("问题：为什么不使用集中式的DNS？")]),t._v(" "),a("ul",[a("li",[t._v("单点失败问题")]),t._v(" "),a("li",[t._v("流量问题")]),t._v(" "),a("li",[t._v("距离问题")]),t._v(" "),a("li",[t._v("维护性问题")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("不可伸缩")])])]),t._v(" "),a("h2",{attrs:{id:"分布式层次式数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分布式层次式数据库"}},[t._v("#")]),t._v(" 分布式层次式数据库")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("示意图")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210816101925-2021-08-16-10-19-25.png",alt:"20210816101925-2021-08-16-10-19-25"}})])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("示例： 客户端想要查询www.amazon.com的IP")]),t._v(" "),a("ul",[a("li",[t._v("客户端查询根服务器，找到com域名解析服务器")]),t._v(" "),a("li",[t._v("客户端查询com域名解析服务器，找到amazon.com域名解析服务器")]),t._v(" "),a("li",[t._v("客户端查询amazon.com域名解析服务器，获得www.amazon.com的IP地址")])])]),t._v(" "),a("h3",{attrs:{id:"dns根域名服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns根域名服务器"}},[t._v("#")]),t._v(" DNS根域名服务器")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("本地域名解析服务器无法解析域名时，访问根域名服务器")])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("根域名服务器")]),t._v(" "),a("ul",[a("li",[t._v("如果不知道映射，访问权威域名服务器")]),t._v(" "),a("li",[t._v("获得映射")]),t._v(" "),a("li",[t._v("向本地域名服务器返回映射")])])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("全球根域名服务器示意图")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210816102445-2021-08-16-10-24-45.png",alt:"20210816102445-2021-08-16-10-24-45"}})])]),t._v(" "),a("h3",{attrs:{id:"顶级域名服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#顶级域名服务器"}},[t._v("#")]),t._v(" 顶级域名服务器")]),t._v(" "),a("h3",{attrs:{id:"权威域名服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#权威域名服务器"}},[t._v("#")]),t._v(" 权威域名服务器")]),t._v(" "),a("h3",{attrs:{id:"本地域名解析服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地域名解析服务器"}},[t._v("#")]),t._v(" 本地域名解析服务器")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("不严格属于层级体系")])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("每个ISP有一个本地域名服务器")]),t._v(" "),a("ul",[a("li",[t._v("默认域名解析服务器")])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("当主机进行DNS查询时，查询被发送到本地域名服务器")]),t._v(" "),a("ul",[a("li",[t._v("作为"),a("strong",[t._v("代理")]),t._v("(proxy)，将查询转发给（层级式）域名解析服务器系统")])])]),t._v(" "),a("h2",{attrs:{id:"迭代查询与递归查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#迭代查询与递归查询"}},[t._v("#")]),t._v(" 迭代查询与递归查询")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Cis.poly.edu的主机想获得gaia.cs.umass.edu的IP地址")])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("迭代查询")]),t._v(" "),a("ul",[a("li",[t._v("被查询服务器返回域名解析服务器的名字\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210816103039-2021-08-16-10-30-39.png",alt:"20210816103039-2021-08-16-10-30-39"}})])])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("递归查询")]),t._v(" "),a("ul",[a("li",[t._v("将域名解析的任务交给所联系的服务器\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210816103254-2021-08-16-10-32-54.png",alt:"20210816103254-2021-08-16-10-32-54"}})])])]),t._v(" "),a("h2",{attrs:{id:"dns-记录缓存和更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns-记录缓存和更新"}},[t._v("#")]),t._v(" DNS 记录缓存和更新")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("只要域名解析服务器获得域名—IP映射，即缓存这一映射")]),t._v(" "),a("ul",[a("li",[t._v("一段时间过后，缓存条目失效（删除）")]),t._v(" "),a("li",[t._v("本地域名服务器一般会缓存顶级域名服务器的映射\n"),a("ul",[a("li",[t._v("因此根域名服务器不经常被访问")])])])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("记录的更新/通知机制")]),t._v(" "),a("ul",[a("li",[t._v("RFC 2136")]),t._v(" "),a("li",[t._v("Dynamic Updates in the Domain Name System (DNS UPDATE)")])])]),t._v(" "),a("h2",{attrs:{id:"dns-记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns-记录"}},[t._v("#")]),t._v(" DNS 记录")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("资源记录(RR, resource records)")]),t._v(" "),a("ul",[a("li",[t._v("RR format:"),a("code",[t._v("(name, value, type, ttl)")]),t._v(" "),a("ul",[a("li",[t._v("Type=A\n"),a("ul",[a("li",[t._v("Name: 主机域名")]),t._v(" "),a("li",[t._v("Value: IP 地址")])])]),t._v(" "),a("li",[t._v("Type=NS\n"),a("ul",[a("li",[t._v("Name: 域(edu.cn)")]),t._v(" "),a("li",[t._v("Value: 该域权威域名解析服务器的主机域名")])])]),t._v(" "),a("li",[t._v("Type=CNAME\n"),a("ul",[a("li",[t._v("Name: 某一真实域名的别名")]),t._v(" "),a("li",[t._v("Name: 某一真实域名的别名")])])]),t._v(" "),a("li",[t._v("Type=MX\n"),a("ul",[a("li",[t._v("Value是与name相对应的邮件服务器")])])])])])])]),t._v(" "),a("h2",{attrs:{id:"dns-协议与消息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns-协议与消息"}},[t._v("#")]),t._v(" DNS 协议与消息")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("DNS协议：")]),t._v(" "),a("ul",[a("li",[t._v("查询(query)和回复(reply消息)\n"),a("ul",[a("li",[t._v("消息格式相同")])])])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("消息头部")]),t._v(" "),a("ul",[a("li",[t._v("Identification\n"),a("ul",[a("li",[t._v("16位查询编号，回复使用相同的编号")])])]),t._v(" "),a("li",[t._v("flags\n"),a("ul",[a("li",[t._v("查询或回复")]),t._v(" "),a("li",[t._v("期望递归")]),t._v(" "),a("li",[t._v("递归可用")]),t._v(" "),a("li",[t._v("权威回答")])])])])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("DNS 消息示例")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210816104405-2021-08-16-10-44-05.png",alt:"20210816104405-2021-08-16-10-44-05"}})])]),t._v(" "),a("h2",{attrs:{id:"如何注册域名？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何注册域名？"}},[t._v("#")]),t._v(" 如何注册域名？")]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("在域名管理机构(如Network Solutions)注册域名networkutopia.com")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("向域名管理机构提供你的权威域名解析服务器的名字和IP地址")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("域名管理机构向com顶级域名解析服务器中插入两条记录")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("networkutopia.com, dns1.networkutopia.com, NS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dns1.networkutopia.com, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("212.212")]),t._v(".212.1, A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])])])]),t._v(" "),a("li",[a("p",[t._v("在权威域名解析服务器中")]),t._v(" "),a("ul",[a("li",[t._v("为www.networkuptopia.com 加入Type A记录\n"),a("ul",[a("li",[t._v("主页地址")])])]),t._v(" "),a("li",[t._v("为networkutopia.com加入Type MX记录\n"),a("ul",[a("li",[t._v("邮件服务")])])])])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("DNS 在应用层实现能降低网络核心的复杂性")])])],1)}),[],!1,null,null,null);"function"==typeof v&&v(i);s.default=i.exports}}]);