(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{742:function(t,s,l){"use strict";l.r(s);var a=l(12),i=function(t){t.options.__data__block__={markmap_1a96284d:"- [程序中断方式](#程序中断方式)\n  - [中断的概念](#中断的概念)\n  - [I/O 中断的产生](#io-中断的产生)\n  - [程序中断方式的接口电路](#程序中断方式的接口电路)\n  - [I/O 中断的处理过程](#io-中断的处理过程)\n  - [中断服务程序流程](#中断服务程序流程)"}},v=Object(a.a)({},(function(){var t=this,s=t.$createElement,l=t._self._c||s;return l("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[l("h1",{attrs:{id:"程序中断方式"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#程序中断方式"}},[t._v("#")]),t._v(" 程序中断方式")]),t._v(" "),l("Markmap",{attrs:{id:"markmap_1a96284d",code:t.$dataBlock.markmap_1a96284d}}),l("h2",{attrs:{id:"中断的概念"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#中断的概念"}},[t._v("#")]),t._v(" 中断的概念")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210904093655-2021-09-04-09-36-55.png",alt:"20210904093655-2021-09-04-09-36-55"}})]),t._v(" "),l("h2",{attrs:{id:"io-中断的产生"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#io-中断的产生"}},[t._v("#")]),t._v(" I/O 中断的产生")]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("以打印机为例")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210904093952-2021-09-04-09-39-52.png",alt:"20210904093952-2021-09-04-09-39-52"}})]),t._v(" "),l("div",{staticClass:"custom-block tip"},[l("p",{staticClass:"custom-block-title"},[t._v("CPU 与打印机部分并行工作")])])]),t._v(" "),l("h2",{attrs:{id:"程序中断方式的接口电路"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#程序中断方式的接口电路"}},[t._v("#")]),t._v(" 程序中断方式的接口电路")]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("配置中断请求触发器和中断屏蔽触发器")]),t._v(" "),l("ul",[l("li",[t._v("进行数据传输时需要屏蔽中断")])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("排队器")]),t._v(" "),l("ul",[l("li",[t._v("优先级")]),t._v(" "),l("li",[t._v("硬件实现\n"),l("ul",[l("li",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210914093530-2021-09-14-09-35-30.png",alt:"20210914093530-2021-09-14-09-35-30"}})]),t._v(" "),l("li",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210914093817-2021-09-14-09-38-17.png",alt:"20210914093817-2021-09-14-09-38-17"}})])])]),t._v(" "),l("li",[t._v("软件实现")])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("中断向量地址形成部件")]),t._v(" "),l("ul",[l("li",[t._v("中断向量可理解为中断服务程序的入口地址\n"),l("ul",[l("li",[t._v("由软件产生\n"),l("ul",[l("li",[t._v("第八章")])])]),t._v(" "),l("li",[t._v("硬件向量法\n"),l("ul",[l("li",[t._v("由"),l("strong",[t._v("硬件")]),t._v("产生"),l("strong",[t._v("向量地址")]),t._v("，再由"),l("strong",[t._v("向量地址")]),t._v("找到"),l("strong",[t._v("入口地址")])]),t._v(" "),l("li",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210914094433-2021-09-14-09-44-33.png",alt:"20210914094433-2021-09-14-09-44-33"}}),t._v(" "),l("ul",[l("li",[t._v("P119 页有设备编码器的具体结构")])])]),t._v(" "),l("li",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210914094449-2021-09-14-09-44-49.png",alt:"20210914094449-2021-09-14-09-44-49"}})])])])])])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("程序中断方式接口电路的基本组成")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210914095222-2021-09-14-09-52-22.png",alt:"20210914095222-2021-09-14-09-52-22"}})])]),t._v(" "),l("h2",{attrs:{id:"io-中断的处理过程"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#io-中断的处理过程"}},[t._v("#")]),t._v(" I/O 中断的处理过程")]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("CPU 响应中断的条件和时间")]),t._v(" "),l("ul",[l("li",[t._v("条件\n"),l("ul",[l("li",[t._v("允许中断触发器 EINT = 1")])])]),t._v(" "),l("li",[t._v("时间\n"),l("ul",[l("li",[t._v("当 D = 1（随机）且 MASK = 0 时")]),t._v(" "),l("li",[l("strong",[t._v("在每条指令执行阶段的结束前")]),t._v(", "),l("strong",[t._v("CPU")]),t._v("发"),l("strong",[t._v("中断查询信号")]),t._v("（将 INTR 置“1”）")])])])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("I/O 中断的处理过程")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210914100034-2021-09-14-10-00-34.png",alt:"20210914100034-2021-09-14-10-00-34"}})])]),t._v(" "),l("h2",{attrs:{id:"中断服务程序流程"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#中断服务程序流程"}},[t._v("#")]),t._v(" 中断服务程序流程")]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("中断服务程序的流程")]),t._v(" "),l("ul",[l("li",[t._v("保护现场\n"),l("ul",[l("li",[t._v("程序断点的保护\n"),l("ul",[l("li",[t._v("中断隐指令")]),t._v(" "),l("li",[t._v("由硬件完成")])])]),t._v(" "),l("li",[t._v("寄存器内容的保护\n"),l("ul",[l("li",[t._v("进栈指令\n"),l("ul",[l("li",[t._v("不一定非要使用进栈指令")])])])])])])]),t._v(" "),l("li",[t._v("中断服务")]),t._v(" "),l("li",[t._v("恢复现场\n"),l("ul",[l("li",[t._v("出栈指令\n"),l("ul",[l("li",[t._v("使用进栈指令时采取的恢复措施")])])])])]),t._v(" "),l("li",[t._v("中断返回\n"),l("ul",[l("li",[t._v("中断返回指令")])])])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("单重中断和多重中断")]),t._v(" "),l("ul",[l("li",[t._v("单重中断\n"),l("ul",[l("li",[t._v("不允许中断现行的中断服务程序")])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("单重中断流程示意图")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210914101134-2021-09-14-10-11-34.png",alt:"20210914101134-2021-09-14-10-11-34"}})])])]),t._v(" "),l("li",[t._v("多重中断\n"),l("ul",[l("li",[t._v("允许级别更高的中断源中断现行的中断服务程序")])]),t._v(" "),l("details",{staticClass:"custom-block details"},[l("summary",[t._v("多重中断流程示意图")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210914101202-2021-09-14-10-12-02.png",alt:"20210914101202-2021-09-14-10-12-02"}})]),t._v(" "),l("ul",[l("li",[t._v("开中断的位置和单重中断不一样")])])])])])]),t._v(" "),l("div",{staticClass:"custom-block note"},[l("p",{staticClass:"custom-block-title"},[t._v("主程序和中断服务程序抢占 CPU 示意图")]),t._v(" "),l("p",[l("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210914102849-2021-09-14-10-28-49.png",alt:"20210914102849-2021-09-14-10-28-49"}})]),t._v(" "),l("ul",[l("li",[t._v("宏观上 CPU 和 I/O 并行工作")]),t._v(" "),l("li",[t._v("微观上 CPU 中断现行程序为 I/O 服务")])])])],1)}),[],!1,null,null,null);"function"==typeof i&&i(v);s.default=v.exports}}]);