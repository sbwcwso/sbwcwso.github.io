(window.webpackJsonp=window.webpackJsonp||[]).push([[475],{1157:function(s,t,a){"use strict";a.r(t);var e=a(12),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"ä¸­æ–­ã€å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­æ–­ã€å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨"}},[s._v("#")]),s._v(" ä¸­æ–­ã€å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"assets/lec3-%E5%90%AF%E5%8A%A8%E4%B8%AD%E6%96%AD%E5%BC%82%E5%B8%B8%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8_125003200.pdf"}},[s._v("ğŸ”— è¯¾ä»¶")])])]),s._v(" "),a("hr"),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210410163435-2021-04-10-16-34-35.png",alt:"20210410163435-2021-04-10-16-34-35"}})]),s._v(" "),a("ul",[a("li",[s._v("ç³»ç»Ÿè°ƒç”¨ï¼ˆsystem callï¼‰\n"),a("ul",[a("li",[s._v("åº”ç”¨ç¨‹åºä¸»åŠ¨å‘æ“ä½œç³»ç»Ÿå‘å‡ºçš„æœåŠ¡è¯·æ±‚")])])]),s._v(" "),a("li",[s._v("å¼‚å¸¸(exception)\n"),a("ul",[a("li",[s._v("éæ³•æŒ‡ä»¤æˆ–è€…å…¶ä»–åŸå› å¯¼è‡´å½“å‰æŒ‡ä»¤æ‰§è¡Œå¤±è´¥"),a("br"),s._v("\n(å¦‚ï¼šå†…å­˜å‡ºé”™)åçš„å¤„ç†è¯·æ±‚")])])]),s._v(" "),a("li",[s._v("ä¸­æ–­(hardware interrupt)\n"),a("ul",[a("li",[s._v("æ¥è‡ªç¡¬ä»¶è®¾å¤‡çš„å¤„ç†è¯·æ±‚")])])])]),s._v(" "),a("h2",{attrs:{id:"ä¸­æ–­ã€å¼‚å¸¸å’Œç³»ç»Ÿçš„è°ƒç”¨æ¯”è¾ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­æ–­ã€å¼‚å¸¸å’Œç³»ç»Ÿçš„è°ƒç”¨æ¯”è¾ƒ"}},[s._v("#")]),s._v(" ä¸­æ–­ã€å¼‚å¸¸å’Œç³»ç»Ÿçš„è°ƒç”¨æ¯”è¾ƒ")]),s._v(" "),a("ul",[a("li",[s._v("æºå¤´\n"),a("ul",[a("li",[s._v("ä¸­æ–­ï¼šå¤–è®¾")]),s._v(" "),a("li",[s._v("å¼‚å¸¸ï¼šåº”ç”¨ç¨‹åºæ„æƒ³ä¸åˆ°çš„è¡Œä¸º")]),s._v(" "),a("li",[s._v("ç³»ç»Ÿè°ƒç”¨ï¼šåº”ç”¨ç¨‹åºè¯·æ±‚æ“ä½œæä¾›æœåŠ¡")])])]),s._v(" "),a("li",[s._v("å“åº”æ–¹å¼\n"),a("ul",[a("li",[s._v("ä¸­æ–­ï¼šå¼‚æ­¥")]),s._v(" "),a("li",[s._v("å¼‚å¸¸ï¼šåŒæ­¥")]),s._v(" "),a("li",[s._v("ç³»ç»Ÿè°ƒç”¨ï¼šå¼‚æ­¥æˆ–åŒæ­¥")])])]),s._v(" "),a("li",[s._v("å¤„ç†æœºåˆ¶\n"),a("ul",[a("li",[s._v("ä¸­æ–­ï¼šæŒç»­ï¼Œå¯¹ç”¨æˆ·åº”ç”¨ç¨‹åºæ˜¯é€æ˜çš„")]),s._v(" "),a("li",[s._v("å¼‚å¸¸ï¼šæ€æ­»æˆ–è€…é‡æ–°æ‰§è¡Œæ„æƒ³ä¸åˆ°çš„åº”ç”¨ç¨‹åºæŒ‡ä»¤")]),s._v(" "),a("li",[s._v("ç³»ç»Ÿè°ƒç”¨ï¼šç­‰å¾…å’ŒæŒç»­")])])])]),s._v(" "),a("h2",{attrs:{id:"ä¸­æ–­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­æ–­"}},[s._v("#")]),s._v(" ä¸­æ–­")]),s._v(" "),a("h3",{attrs:{id:"ä¸­æ–­å¤„ç†æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­æ–­å¤„ç†æœºåˆ¶"}},[s._v("#")]),s._v(" ä¸­æ–­å¤„ç†æœºåˆ¶")]),s._v(" "),a("p",[s._v("å…ˆç¡¬ä»¶å¤„ç†å†è½¯ä»¶å¤„ç†")]),s._v(" "),a("ul",[a("li",[s._v("ç¡¬ä»¶å¤„ç†\n"),a("ul",[a("li",[s._v("åœ¨CPUåˆå§‹åŒ–æ—¶è®¾ç½®ä¸­æ–­ä½¿èƒ½æ ‡å¿—\n"),a("ul",[a("li",[s._v("ä¾æ®å†…éƒ¨æˆ–å¤–éƒ¨äº‹ä»¶è®¾ç½®ä¸­æ–­æ ‡å¿—")]),s._v(" "),a("li",[s._v("ä¾æ®ä¸­æ–­å‘é‡è°ƒç”¨ç›¸åº”ä¸­æ–­æœåŠ¡ä¾‹ç¨‹")])])])])]),s._v(" "),a("li",[s._v("è½¯ä»¶å¤„ç†\n"),a("ul",[a("li",[s._v("ç°åœºä¿å­˜ï¼ˆç¼–è¯‘å™¨ï¼‰\n"),a("ul",[a("li",[s._v("ä¿å­˜ä¸­æ–­å‰çš„çŠ¶æ€")])])]),s._v(" "),a("li",[s._v("ä¸­æ–­æœåŠ¡å¤„ç†ï¼ˆæœåŠ¡ä¾‹ç¨‹ï¼‰")]),s._v(" "),a("li",[s._v("æ¸…é™¤ä¸­æ–­æ ‡è®°ï¼ˆæœåŠ¡ä¾‹ç¨‹ï¼‰")]),s._v(" "),a("li",[s._v("ç°åœºæ¢å¤ï¼ˆç¼–è¯‘å™¨ï¼‰\n"),a("ul",[a("li",[s._v("æ¢å¤åˆ°ä¸­æ–­å‰çš„çŠ¶æ€")])])])])])]),s._v(" "),a("h3",{attrs:{id:"ä¸­æ–­åµŒå¥—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­æ–­åµŒå¥—"}},[s._v("#")]),s._v(" ä¸­æ–­åµŒå¥—")]),s._v(" "),a("ul",[a("li",[s._v("ç¡¬ä»¶ä¸­æ–­æœåŠ¡ä¾‹ç¨‹å¯è¢«æ‰“æ–­\n"),a("ul",[a("li",[s._v("ä¸åŒç¡¬ä»¶ä¸­æ–­æºå¯èƒ½ç¡¬ä»¶ä¸­æ–­å¤„ç†æ—¶å‡ºç°")]),s._v(" "),a("li",[s._v("ç¡¬ä»¶ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ä¸­éœ€è¦ä¸´æ—¶ç¦æ­¢ä¸­æ–­è¯·æ±‚")]),s._v(" "),a("li",[s._v("ä¸­æ–­è¯·æ±‚ä¼šä¿æŒåˆ°CPUåšå‡ºå“åº”")])])]),s._v(" "),a("li",[s._v("å¼‚å¸¸æœåŠ¡ä¾‹ç¨‹å¯è¢«æ‰“æ–­\n"),a("ul",[a("li",[s._v("å¼‚å¸¸æœåŠ¡ä¾‹ç¨‹æ‰§è¡Œæ—¶å¯èƒ½å‡ºç°ç¡¬ä»¶ä¸­æ–­")])])]),s._v(" "),a("li",[s._v("å¼‚å¸¸æœåŠ¡ä¾‹ç¨‹å¯åµŒå¥—\n"),s._v(" "),a("ul",[a("li",[s._v("å¼‚å¸¸æœåŠ¡ä¾‹ç¨‹å¯èƒ½å‡ºç°ç¼ºé¡µ")])])])]),s._v(" "),a("h2",{attrs:{id:"ç³»ç»Ÿè°ƒç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç³»ç»Ÿè°ƒç”¨"}},[s._v("#")]),s._v(" ç³»ç»Ÿè°ƒç”¨")]),s._v(" "),a("ul",[a("li",[s._v("åº”ç”¨ç¨‹åºè°ƒç”¨"),a("code",[s._v("printf()")]),s._v(" æ—¶ï¼Œä¼šè§¦å‘ç³»ç»Ÿè°ƒç”¨"),a("code",[s._v("write()")])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210410165852-2021-04-10-16-58-52.png",alt:"20210410165852-2021-04-10-16-58-52"}})]),s._v(" "),a("ul",[a("li",[s._v("æ“ä½œç³»ç»ŸæœåŠ¡çš„ç¼–ç¨‹æ¥å£")]),s._v(" "),a("li",[s._v("é€šå¸¸ç”±é«˜çº§è¯­è¨€ç¼–å†™ï¼ˆCæˆ–è€…C++ï¼‰")]),s._v(" "),a("li",[s._v("ç¨‹åºè®¿é—®é€šå¸¸æ˜¯é€šè¿‡é«˜å±‚æ¬¡çš„APIæ¥å£è€Œä¸æ˜¯ç›´æ¥è¿›è¡Œç³»ç»Ÿè°ƒç”¨")]),s._v(" "),a("li",[s._v("ä¸‰ç§æœ€å¸¸ç”¨çš„åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰\n"),a("ul",[a("li",[s._v("Win32 API ç”¨äº Windows")]),s._v(" "),a("li",[s._v("POSIX API ç”¨äº POSIX-based systems (åŒ…æ‹¬UNIXï¼ŒLINUXï¼ŒMac OS Xçš„æ‰€æœ‰ç‰ˆæœ¬)")]),s._v(" "),a("li",[s._v("Java API ç”¨äºJAVAè™šæ‹Ÿæœº(JVM)")])])])]),s._v(" "),a("h3",{attrs:{id:"ç³»ç»Ÿè°ƒç”¨çš„å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç³»ç»Ÿè°ƒç”¨çš„å®ç°"}},[s._v("#")]),s._v(" ç³»ç»Ÿè°ƒç”¨çš„å®ç°")]),s._v(" "),a("ul",[a("li",[s._v("æ¯ä¸ªç³»ç»Ÿè°ƒç”¨å¯¹åº”ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨å·\n"),a("ul",[a("li",[s._v("ç³»ç»Ÿè°ƒç”¨æ¥å£æ ¹æ®ç³»ç»Ÿè°ƒç”¨å·æ¥ç»´æŠ¤ç³»ç»Ÿè°ƒç”¨è¡¨çš„ç´¢å¼•")])])]),s._v(" "),a("li",[s._v("ç³»ç»Ÿè°ƒç”¨æ¥å£è°ƒç”¨å†…æ ¸æ€ä¸­çš„ç³»ç»Ÿè°ƒç”¨åŠŸèƒ½å®ç°ï¼Œå¹¶è¿”å›ç³»ç»Ÿè°ƒç”¨çš„çŠ¶æ€å’Œç»“æœ")]),s._v(" "),a("li",[s._v("ç”¨æˆ·ä¸éœ€è¦çŸ¥é“ç³»ç»Ÿè°ƒç”¨çš„å®ç°\n"),a("ul",[a("li",[s._v("éœ€è¦è®¾ç½®è°ƒç”¨å‚æ•°å’Œè·å–è¿”å›ç»“æœ")]),s._v(" "),a("li",[s._v("æ“ä½œç³»ç»Ÿæ¥å£çš„ç»†èŠ‚å¤§éƒ¨åˆ†éƒ½éšè—åœ¨åº”ç”¨ç¼–ç¨‹æ¥å£å\n"),a("ul",[a("li",[a("strong",[s._v("é€šè¿‡è¿è¡Œç¨‹åºæ”¯æŒçš„åº“æ¥ç®¡ç†")])])])])])])]),s._v(" "),a("h3",{attrs:{id:"å‡½æ•°è°ƒç”¨å’Œç³»ç»Ÿè°ƒç”¨çš„ä¸åŒå¤„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡½æ•°è°ƒç”¨å’Œç³»ç»Ÿè°ƒç”¨çš„ä¸åŒå¤„"}},[s._v("#")]),s._v(" å‡½æ•°è°ƒç”¨å’Œç³»ç»Ÿè°ƒç”¨çš„ä¸åŒå¤„")]),s._v(" "),a("ul",[a("li",[s._v("INTå’ŒIRETæŒ‡ä»¤ç”¨äºç³»ç»Ÿè°ƒç”¨\n"),a("ul",[a("li",[s._v("ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¼šè¿›è¡Œ"),a("strong",[s._v("å †æ ˆåˆ‡æ¢å’Œç‰¹æƒçº§çš„è½¬æ¢")])])])]),s._v(" "),a("li",[s._v("å‡½æ•°è°ƒç”¨\n"),a("ul",[a("li",[a("code",[s._v("CALL")]),s._v("å’Œ"),a("code",[s._v("RET")]),s._v("ç”¨äºå¸¸è§„è°ƒç”¨")]),s._v(" "),a("li",[a("strong",[s._v("å¸¸è§„è°ƒç”¨æ—¶æ²¡æœ‰å †æ ˆåˆ‡æ¢")])])])])]),s._v(" "),a("h3",{attrs:{id:"ä¸­æ–­å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨çš„å¼€é”€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­æ–­å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨çš„å¼€é”€"}},[s._v("#")]),s._v(" ä¸­æ–­å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨çš„å¼€é”€")]),s._v(" "),a("ul",[a("li",[s._v("è¶…è¿‡å‡½æ•°è°ƒç”¨")]),s._v(" "),a("li",[s._v("å¼€é”€ï¼š\n"),a("ul",[a("li",[s._v("å¼•å¯¼æœºåˆ¶")]),s._v(" "),a("li",[s._v("å»ºç«‹å†…æ ¸å †æ ˆ")]),s._v(" "),a("li",[s._v("éªŒè¯å‚æ•°")]),s._v(" "),a("li",[s._v("å†…æ ¸æ€æ˜ å°„åˆ°ç”¨æˆ·æ€çš„åœ°å€ç©ºé—´\n"),a("ul",[a("li",[s._v("æ›´æ–°é¡µé¢æ˜ å°„æƒé™")])])])])]),s._v(" "),a("li",[s._v("å†…æ ¸æ€ç‹¬ç«‹åœ°å€ç©ºé—´\n"),s._v(" "),a("ul",[a("li",[s._v("TLB")])])])]),s._v(" "),a("h3",{attrs:{id:"ç³»ç»Ÿè°ƒç”¨ç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç³»ç»Ÿè°ƒç”¨ç¤ºä¾‹"}},[s._v("#")]),s._v(" ç³»ç»Ÿè°ƒç”¨ç¤ºä¾‹")]),s._v(" "),a("ul",[a("li",[s._v("ä¸ºäº†ä¸ç¤ºä¾‹åŒ¹é…ï¼Œå¯ä»¥æŸ¥çœ‹ lab8_answer\n"),a("ul",[a("li",[s._v("å¯ä» "),a("a",{attrs:{href:"https://github.com/sbwcwso/sbwcwso.github.io/tree/main/md-file/0-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/1-%E6%B8%85%E5%8D%8E%E5%85%AC%E5%BC%80%E8%AF%BE/3-%E5%90%AF%E5%8A%A8%E4%B8%AD%E6%96%AD%E5%BC%82%E5%B8%B8%E5%92%8C%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/assets/lab8_result",target:"_blank",rel:"noopener noreferrer"}},[s._v("ğŸ”— æ­¤å¤„"),a("OutboundLink")],1),s._v(" ä¸‹è½½ la8_answer")])])])]),s._v(" "),a("h4",{attrs:{id:"æ–‡ä»¶å¤åˆ¶è¿‡ç¨‹ä¸­çš„ç³»ç»Ÿè°ƒç”¨åºåˆ—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ–‡ä»¶å¤åˆ¶è¿‡ç¨‹ä¸­çš„ç³»ç»Ÿè°ƒç”¨åºåˆ—"}},[s._v("#")]),s._v(" æ–‡ä»¶å¤åˆ¶è¿‡ç¨‹ä¸­çš„ç³»ç»Ÿè°ƒç”¨åºåˆ—")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210410175011-2021-04-10-17-50-11.png",alt:"20210410175011-2021-04-10-17-50-11"}})]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// System call numbers")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_fork")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_wait")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_pipe")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_write")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("  ")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸æ–‡ä»¶å¤åˆ¶ç›¸å…³")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_read")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("  ")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  ä¸æ–‡ä»¶å¤åˆ¶ç›¸å…³")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_close")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" ")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  ä¸æ–‡ä»¶å¤åˆ¶ç›¸å…³")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_open")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("  ")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  ä¸æ–‡ä»¶å¤åˆ¶ç›¸å…³")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_mknod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_unlink")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_fstat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_link")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_chdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_dup")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_getpid")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_sbrk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_sleep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")])])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("SYS_procmem")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")])])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),s._v(" "),a("h4",{attrs:{id:"ucore-ä¸­ç›¸å…³åº”ç”¨å‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ucore-ä¸­ç›¸å…³åº”ç”¨å‡½æ•°"}},[s._v("#")]),s._v(" ucore ä¸­ç›¸å…³åº”ç”¨å‡½æ•°")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("åœ¨ucoreä¸­åº“å‡½æ•°"),a("code",[s._v("read()")]),s._v("çš„åŠŸèƒ½æ˜¯è¯»æ–‡ä»¶")]),s._v(" "),a("ul",[a("li",[s._v("user/libs/file.h: "),a("code",[s._v("int read(int fd, void * buf, int length)")])])])]),s._v(" "),a("li",[a("p",[s._v("åº“å‡½æ•° "),a("code",[s._v("read()")]),s._v(" çš„å‚æ•°å’Œè¿”å›å€¼")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("int fd")]),s._v(": æ–‡ä»¶å¥æŸ„")]),s._v(" "),a("li",[a("code",[s._v("void * buf")]),s._v(": æ•°æ®ç¼“å†²åŒºæŒ‡é’ˆ")]),s._v(" "),a("li",[a("code",[s._v("int length")]),s._v(": æ•°æ®ç¼“å†²åŒºé•¿åº¦")]),s._v(" "),a("li",[a("code",[s._v("int return_value")]),s._v(": è¿”å›è¯»å‡ºæ•°æ®é•¿åº¦")])])]),s._v(" "),a("li",[a("p",[s._v("åº“å‡½æ•°"),a("code",[s._v("read()")]),s._v("ä½¿ç”¨ç¤ºä¾‹")]),s._v(" "),a("ul",[a("li",[s._v("in sfs_filetest1.c: "),a("code",[s._v("ret = read(fd, data, len)")])])])])]),s._v(" "),a("h4",{attrs:{id:"ç”±åº”ç”¨æ€è½¬åˆ°å†…æ ¸æ€è°ƒç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç”±åº”ç”¨æ€è½¬åˆ°å†…æ ¸æ€è°ƒç”¨"}},[s._v("#")]),s._v(" ç”±åº”ç”¨æ€è½¬åˆ°å†…æ ¸æ€è°ƒç”¨")]),s._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[s._v("sfs_filetest1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ret "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("len"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nâ€¦â€¦\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ­¤æ®µä»£ç ä¸»è¦ç”¨äºå‹æ ˆ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8029")]),s._v("a1"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("        mov "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("ebp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("eax\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8029")]),s._v("a4"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("08")]),s._v("     mov "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("eax"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("esp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8029")]),s._v("a8"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("c        mov "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("ebp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("eax\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8029")]),s._v("ab"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("04")]),s._v("     mov "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("eax"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("esp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8029")]),s._v("af"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("08")]),s._v("        mov "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("ebp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("eax\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8029")]),s._v("b2"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("04")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("        mov "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("eax"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("esp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8029")]),s._v("b5"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   e8 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" d8 ff ff  call "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8001")]),s._v("ed "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("read"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("syscall")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›¸å½“äºè°ƒç”¨ kern/trap/trapentry.S ä¸­çš„ alltraps")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("asm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("volatile")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"int %1;"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"=a"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"i"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("T_SYSCALL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"d"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("https"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//github.com/sbwcwso/sbwcwso.github.io/tree/main/md-file/0-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/1-%E6%B8%85%E5%8D%8E%E5%85%AC%E5%BC%80%E8%AF%BE/3-%E5%90%AF%E5%8A%A8%E4%B8%AD%E6%96%AD%E5%BC%82%E5%B8%B8%E5%92%8C%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/assets/lab8_result")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"S"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"memory"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),s._v(" "),a("h4",{attrs:{id:"ucoreç³»ç»Ÿå†…æ ¸æ€ç”¨è½¯ä¸­æ–­å®ç°ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ucoreç³»ç»Ÿå†…æ ¸æ€ç”¨è½¯ä¸­æ–­å®ç°ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹"}},[s._v("#")]),s._v(" ucoreç³»ç»Ÿå†…æ ¸æ€ç”¨è½¯ä¸­æ–­å®ç°ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹")]),s._v(" "),a("ul",[a("li",[s._v("kern/trap/trapentry.S: "),a("code",[s._v("alltraps()")]),s._v(" "),a("ul",[a("li",[s._v("è½¯ä¸­æ–­")])])]),s._v(" "),a("li",[s._v("kern/trap/trap.c: "),a("code",[s._v("trap(), trap_dispatch()")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("tf->trapno == T_SYSCALL")])]),s._v(" "),a("li",[a("code",[s._v("T_SYSCALL")]),s._v(" ä¸ºç³»ç»Ÿè°ƒç”¨å¯¹åº”çš„ä¸­æ–­å‘é‡")]),s._v(" "),a("li",[s._v("é€šè¿‡æŸ¥è¯¢ä¸­æ–­å‘é‡è¡¨ï¼Œåˆ¤æ–­æ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œç„¶åè¿›å…¥ç³»ç»Ÿè°ƒç”¨è¡¨è¿›è¡ŒæŸ¥è¯¢")])])]),s._v(" "),a("li",[s._v("kern/syscall/syscall.c: "),a("code",[s._v("syscall()")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("tf->tf_regs.reg_eax == SYS_read")])]),s._v(" "),a("li",[s._v("ç”±ç³»ç»Ÿè°ƒç”¨è¡¨ç¡®å®šéœ€è¦è°ƒç”¨çš„ç³»ç»Ÿå‡½æ•°æ˜¯ "),a("code",[s._v("SYS_read")]),s._v("ï¼Œç„¶åå¼€å§‹æ‰§è¡Œç›¸åº”çš„å‡½æ•°")])])]),s._v(" "),a("li",[s._v("kern/syscall/syscall.c: "),a("code",[s._v("sys_read()")]),s._v(" "),a("ul",[a("li",[s._v("ä» "),a("code",[s._v("tf->sp")]),s._v(" è·å– "),a("code",[s._v("fd, buf, length")])]),s._v(" "),a("li",[s._v("ä»å †æ ˆ sp ä¸­è·å–å‚æ•°")]),s._v(" "),a("li",[s._v("è°ƒç”¨ç›¸å…³å‡½æ•°å®ç°æ–‡ä»¶è¯»å–")])])]),s._v(" "),a("li",[s._v("kern/fs/sysfile.c: "),a("code",[s._v("sysfile_read()")]),s._v(" "),a("ul",[a("li",[s._v("è¯»å–æ–‡ä»¶ï¼Œå¹¶è¿”å›ä¸Šçº§è°ƒç”¨å‡½æ•°ï¼Œç›´è‡³ "),a("code",[s._v("alltraps()")])])])]),s._v(" "),a("li",[s._v("kern/trap/trapentry.S: "),a("code",[s._v("trapret()")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("trapret()")]),s._v(": å°†è¯»åˆ°çš„å†…å®¹è¿”å›åˆ°ç”¨æˆ·æ€\n"),s._v(" "),a("ul",[a("li",[s._v("å…·ä½“é€šè¿‡ "),a("code",[s._v("ireturn")]),s._v(" æ¥å®ç°")])])])])])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Understand çš„ç‰ˆæœ¬æ˜¯ 5.1")])]),s._v(" "),a("li",[a("p",[s._v("åˆ›å»ºé¡¹ç›®æ³¨æ„æ¡†é€‰è¿›ä¸€æ­¥é…ç½®\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210411090741-2021-04-11-09-07-41.png",alt:"20210411090741-2021-04-11-09-07-41"}})])]),s._v(" "),a("li",[a("p",[s._v("å°† C/C++ çš„åˆ†ææ¨¡å¼è®¾ä¸º "),a("code",[s._v("Fuzzy")]),s._v(" "),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210411090842-2021-04-11-09-08-42.png",alt:"20210411090842-2021-04-11-09-08-42"}})])]),s._v(" "),a("li",[a("p",[s._v("File Types ä¸­ç¡®ä¿ .S å¯¹åº”çš„æ˜¯ Assemblyï¼Œå¦‚æœæ²¡æœ‰ç›¸åº”çš„é¡¹ï¼Œéœ€è¦æ–°å»ºæ–‡ä»¶\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210411090946-2021-04-11-09-09-46.png",alt:"20210411090946-2021-04-11-09-09-46"}})])]),s._v(" "),a("li",[a("p",[s._v("å°† Assembly è®¾ç½®ä¸º IBM\n"),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/sbwcwso/PicBed@master/20210411173524-2021-04-11-17-35-24.png",alt:"20210411173524-2021-04-11-17-35-24"}})])])])])}),[],!1,null,null,null);t.default=n.exports}}]);